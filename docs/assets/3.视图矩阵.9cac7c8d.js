import"./modulepreload-polyfill.b7f2da20.js";import{G as Y,M as r}from"./vendor.5ec5d0b7.js";var v=`attribute vec4 a_Position;
uniform mat4 u_Matrix;

void main() {

  gl_Position = u_Matrix*a_Position;
  gl_PointSize = 20.0;
}`,C=`
void main(){
  gl_FragColor = vec4(1,1,0,1);
}`;function R(n,o,s){const a=n.createProgram(),g=x(n,n.VERTEX_SHADER,o),P=x(n,n.FRAGMENT_SHADER,s);return n.attachShader(a,g),n.attachShader(a,P),n.linkProgram(a),n.useProgram(a),a}function x(n,o,s){const a=n.createShader(o);return a&&(n.shaderSource(a,s),n.compileShader(a)),a}const l=document.querySelector("#canvas");l.width=window.innerWidth;l.height=window.innerHeight;const e=l.getContext("webgl"),f=R(e,v,C),c=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,-1],_=[0,1,1,2,2,3,3,0,0,5,1,6,2,7,3,4,4,5,5,6,6,7,7,4],F=[];_.forEach(n=>{const o=n*3;F.push(c[o]/5,c[o+1]/5,c[o+2]/5)});const X=new Float32Array(F),y=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,y);e.bufferData(e.ARRAY_BUFFER,X,e.STATIC_DRAW);const S=e.getAttribLocation(f,"a_Position"),E=e.getUniformLocation(f,"u_Matrix");let d=new Y,t={originX:0,originY:0,rotateX:0,rotateY:0,rotateZ:0,scaleX:1,scaleY:1,positionX:0,positionY:0},u=d.addFolder("\u57FA\u70B9");u.open();u.add(t,"originX").min(-1).max(1).step(.01).onChange(i);u.add(t,"originY").min(-1).max(1).step(.01).onChange(i);let m=d.addFolder("\u65CB\u8F6C");m.open();m.add(t,"rotateZ").min(0).max(Math.PI*2).step(.01).onChange(i);m.add(t,"rotateY").min(0).max(Math.PI*2).step(.01).onChange(i);m.add(t,"rotateX").min(0).max(Math.PI*2).step(.01).onChange(i);let h=d.addFolder("\u7F29\u653E");h.open();h.add(t,"scaleX").min(0).max(2).step(.01).onChange(i);h.add(t,"scaleY").min(0).max(3).step(.01).onChange(i);let p=d.addFolder("\u5E73\u79FB");p.open();p.add(t,"positionX").min(0).max(1).step(.01).onChange(i);p.add(t,"positionY").min(0).max(1).step(.01).onChange(i);function i(){w(),A()}function w(){const n=new r().multiply(new r().setPosition(t.originX,t.originY,0).multiply(o(t.rotateX,t.rotateY,t.rotateZ).multiply(new r().setPosition(t.positionX,t.positionY,0)).multiply(new r().makeScale(t.scaleX,t.scaleY,1))).multiply(new r().setPosition(-t.originX,-t.originY,0)));e.uniformMatrix4fv(E,!1,n.elements);function o(s,a,g){return new r().makeRotationX(t.rotateX).multiply(new r().makeRotationY(t.rotateY)).multiply(new r().makeRotationZ(t.rotateZ))}}w();e.vertexAttribPointer(S,3,e.FLOAT,!1,0,0);e.enableVertexAttribArray(S);A();function A(){e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.LINES,0,_.length)}
