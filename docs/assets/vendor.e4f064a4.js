function ys(o){if(!!o&&typeof window!="undefined"){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=o,document.head.appendChild(t),o}}function fe(o,t){var e=o.__state.conversionName.toString(),i=Math.round(o.r),n=Math.round(o.g),r=Math.round(o.b),s=o.a,a=Math.round(o.h),h=o.s.toFixed(1),l=o.v.toFixed(1);if(t||e==="THREE_CHAR_HEX"||e==="SIX_CHAR_HEX"){for(var u=o.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}else{if(e==="CSS_RGB")return"rgb("+i+","+n+","+r+")";if(e==="CSS_RGBA")return"rgba("+i+","+n+","+r+","+s+")";if(e==="HEX")return"0x"+o.hex.toString(16);if(e==="RGB_ARRAY")return"["+i+","+n+","+r+"]";if(e==="RGBA_ARRAY")return"["+i+","+n+","+r+","+s+"]";if(e==="RGB_OBJ")return"{r:"+i+",g:"+n+",b:"+r+"}";if(e==="RGBA_OBJ")return"{r:"+i+",g:"+n+",b:"+r+",a:"+s+"}";if(e==="HSV_OBJ")return"{h:"+a+",s:"+h+",v:"+l+"}";if(e==="HSVA_OBJ")return"{h:"+a+",s:"+h+",v:"+l+",a:"+s+"}"}return"unknown format"}var En=Array.prototype.forEach,Te=Array.prototype.slice,v={BREAK:{},extend:function(t){return this.each(Te.call(arguments,1),function(e){var i=this.isObject(e)?Object.keys(e):[];i.forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))},this),t},defaults:function(t){return this.each(Te.call(arguments,1),function(e){var i=this.isObject(e)?Object.keys(e):[];i.forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))},this),t},compose:function(){var t=Te.call(arguments);return function(){for(var e=Te.call(arguments),i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},each:function(t,e,i){if(!!t){if(En&&t.forEach&&t.forEach===En)t.forEach(e,i);else if(t.length===t.length+0){var n=void 0,r=void 0;for(n=0,r=t.length;n<r;n++)if(n in t&&e.call(i,t[n],n)===this.BREAK)return}else for(var s in t)if(e.call(i,t[s],s)===this.BREAK)return}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n=void 0;return function(){var r=this,s=arguments;function a(){n=null,i||t.apply(r,s)}var h=i||!n;clearTimeout(n),n=setTimeout(a,e),h&&t.apply(r,s)}},toArray:function(t){return t.toArray?t.toArray():Te.call(t)},isUndefined:function(t){return t===void 0},isNull:function(t){return t===null},isNaN:function(o){function t(e){return o.apply(this,arguments)}return t.toString=function(){return o.toString()},t}(function(o){return isNaN(o)}),isArray:Array.isArray||function(o){return o.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return t instanceof Function}},xs=[{litmus:v.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return e===null?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:fe},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return e===null?!1:{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:fe},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return e===null?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:fe},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return e===null?!1:{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:fe}}},{litmus:v.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:v.isArray,conversions:{RGB_ARRAY:{read:function(t){return t.length!==3?!1:{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return t.length!==4?!1:{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:v.isObject,conversions:{RGBA_OBJ:{read:function(t){return v.isNumber(t.r)&&v.isNumber(t.g)&&v.isNumber(t.b)&&v.isNumber(t.a)?{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return v.isNumber(t.r)&&v.isNumber(t.g)&&v.isNumber(t.b)?{space:"RGB",r:t.r,g:t.g,b:t.b}:!1},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return v.isNumber(t.h)&&v.isNumber(t.s)&&v.isNumber(t.v)&&v.isNumber(t.a)?{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return v.isNumber(t.h)&&v.isNumber(t.s)&&v.isNumber(t.v)?{space:"HSV",h:t.h,s:t.s,v:t.v}:!1},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],ke=void 0,ti=void 0,hi=function(){ti=!1;var t=arguments.length>1?v.toArray(arguments):arguments[0];return v.each(xs,function(e){if(e.litmus(t))return v.each(e.conversions,function(i,n){if(ke=i.read(t),ti===!1&&ke!==!1)return ti=ke,ke.conversionName=n,ke.conversion=i,v.BREAK}),v.BREAK}),ti},Tn=void 0,Ue={hsv_to_rgb:function(t,e,i){var n=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),s=i*(1-e),a=i*(1-r*e),h=i*(1-(1-r)*e),l=[[i,h,s],[a,i,s],[s,i,h],[s,a,i],[h,s,i],[i,s,a]][n];return{r:l[0]*255,g:l[1]*255,b:l[2]*255}},rgb_to_hsv:function(t,e,i){var n=Math.min(t,e,i),r=Math.max(t,e,i),s=r-n,a=void 0,h=void 0;if(r!==0)h=s/r;else return{h:NaN,s:0,v:0};return t===r?a=(e-i)/s:e===r?a=2+(i-t)/s:a=4+(t-e)/s,a/=6,a<0&&(a+=1),{h:a*360,s:h,v:r/255}},rgb_to_hex:function(t,e,i){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,i),n},component_from_hex:function(t,e){return t>>e*8&255},hex_with_component:function(t,e,i){return i<<(Tn=e*8)|t&~(255<<Tn)}},bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},bt=function(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")},vt=function(){function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}}(),Yt=function o(t,e,i){t===null&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(n===void 0){var r=Object.getPrototypeOf(t);return r===null?void 0:o(r,e,i)}else{if("value"in n)return n.value;var s=n.get;return s===void 0?void 0:s.call(i)}},Gt=function(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)},qt=function(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:o},G=function(){function o(){if(bt(this,o),this.__state=hi.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return vt(o,[{key:"toString",value:function(){return fe(this)}},{key:"toHexString",value:function(){return fe(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),o}();function en(o,t,e){Object.defineProperty(o,t,{get:function(){return this.__state.space==="RGB"?this.__state[t]:(G.recalculateRGB(this,t,e),this.__state[t])},set:function(n){this.__state.space!=="RGB"&&(G.recalculateRGB(this,t,e),this.__state.space="RGB"),this.__state[t]=n}})}function nn(o,t){Object.defineProperty(o,t,{get:function(){return this.__state.space==="HSV"?this.__state[t]:(G.recalculateHSV(this),this.__state[t])},set:function(i){this.__state.space!=="HSV"&&(G.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=i}})}G.recalculateRGB=function(o,t,e){if(o.__state.space==="HEX")o.__state[t]=Ue.component_from_hex(o.__state.hex,e);else if(o.__state.space==="HSV")v.extend(o.__state,Ue.hsv_to_rgb(o.__state.h,o.__state.s,o.__state.v));else throw new Error("Corrupted color state")};G.recalculateHSV=function(o){var t=Ue.rgb_to_hsv(o.r,o.g,o.b);v.extend(o.__state,{s:t.s,v:t.v}),v.isNaN(t.h)?v.isUndefined(o.__state.h)&&(o.__state.h=0):o.__state.h=t.h};G.COMPONENTS=["r","g","b","h","s","v","hex","a"];en(G.prototype,"r",2);en(G.prototype,"g",1);en(G.prototype,"b",0);nn(G.prototype,"h");nn(G.prototype,"s");nn(G.prototype,"v");Object.defineProperty(G.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}});Object.defineProperty(G.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Ue.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var jt=function(){function o(t,e){bt(this,o),this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}return vt(o,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),o}(),vs={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},cr={};v.each(vs,function(o,t){v.each(o,function(e){cr[e]=t})});var ws=/(\d+(\.\d+)?)px/;function Ct(o){if(o==="0"||v.isUndefined(o))return 0;var t=o.match(ws);return v.isNull(t)?0:parseFloat(t[1])}var y={makeSelectable:function(t,e){t===void 0||t.style===void 0||(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,i){var n=i,r=e;v.isUndefined(r)&&(r=!0),v.isUndefined(n)&&(n=!0),t.style.position="absolute",r&&(t.style.left=0,t.style.right=0),n&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,i,n){var r=i||{},s=cr[e];if(!s)throw new Error("Event type "+e+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":{var h=r.x||r.clientX||0,l=r.y||r.clientY||0;a.initMouseEvent(e,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,h,l,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var u=a.initKeyboardEvent||a.initKeyEvent;v.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(e,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break}default:{a.initEvent(e,r.bubbles||!1,r.cancelable||!0);break}}v.defaults(a,n),t.dispatchEvent(a)},bind:function(t,e,i,n){var r=n||!1;return t.addEventListener?t.addEventListener(e,i,r):t.attachEvent&&t.attachEvent("on"+e,i),y},unbind:function(t,e,i,n){var r=n||!1;return t.removeEventListener?t.removeEventListener(e,i,r):t.detachEvent&&t.detachEvent("on"+e,i),y},addClass:function(t,e){if(t.className===void 0)t.className=e;else if(t.className!==e){var i=t.className.split(/ +/);i.indexOf(e)===-1&&(i.push(e),t.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return y},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var i=t.className.split(/ +/),n=i.indexOf(e);n!==-1&&(i.splice(n,1),t.className=i.join(" "))}else t.className=void 0;return y},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return Ct(e["border-left-width"])+Ct(e["border-right-width"])+Ct(e["padding-left"])+Ct(e["padding-right"])+Ct(e.width)},getHeight:function(t){var e=getComputedStyle(t);return Ct(e["border-top-width"])+Ct(e["border-bottom-width"])+Ct(e["padding-top"])+Ct(e["padding-bottom"])+Ct(e.height)},getOffset:function(t){var e=t,i={left:0,top:0};if(e.offsetParent)do i.left+=e.offsetLeft,i.top+=e.offsetTop,e=e.offsetParent;while(e);return i},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},rn=function(o){Gt(t,o);function t(e,i){bt(this,t);var n=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),r=n;n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox");function s(){r.setValue(!r.__prev)}return y.bind(n.__checkbox,"change",s,!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}return vt(t,[{key:"setValue",value:function(i){var n=Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,i);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(jt),dr=function(o){Gt(t,o);function t(e,i,n){bt(this,t);var r=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=n,a=r;if(r.__select=document.createElement("select"),v.isArray(s)){var h={};v.each(s,function(l){h[l]=l}),s=h}return v.each(s,function(l,u){var c=document.createElement("option");c.innerHTML=u,c.setAttribute("value",l),a.__select.appendChild(c)}),r.updateDisplay(),y.bind(r.__select,"change",function(){var l=this.options[this.selectedIndex].value;a.setValue(l)}),r.domElement.appendChild(r.__select),r}return vt(t,[{key:"setValue",value:function(i){var n=Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,i);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return y.isActive(this.__select)?this:(this.__select.value=this.getValue(),Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(jt),fr=function(o){Gt(t,o);function t(e,i){bt(this,t);var n=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),r=n;function s(){r.setValue(r.__input.value)}function a(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),y.bind(n.__input,"keyup",s),y.bind(n.__input,"change",s),y.bind(n.__input,"blur",a),y.bind(n.__input,"keydown",function(h){h.keyCode===13&&this.blur()}),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return vt(t,[{key:"updateDisplay",value:function(){return y.isActive(this.__input)||(this.__input.value=this.getValue()),Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(jt);function kn(o){var t=o.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var sn=function(o){Gt(t,o);function t(e,i,n){bt(this,t);var r=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=n||{};return r.__min=s.min,r.__max=s.max,r.__step=s.step,v.isUndefined(r.__step)?r.initialValue===0?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=kn(r.__impliedStep),r}return vt(t,[{key:"setValue",value:function(i){var n=i;return this.__min!==void 0&&n<this.__min?n=this.__min:this.__max!==void 0&&n>this.__max&&(n=this.__max),this.__step!==void 0&&n%this.__step!==0&&(n=Math.round(n/this.__step)*this.__step),Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(i){return this.__min=i,this}},{key:"max",value:function(i){return this.__max=i,this}},{key:"step",value:function(i){return this.__step=i,this.__impliedStep=i,this.__precision=kn(i),this}}]),t}(jt);function Ms(o,t){var e=Math.pow(10,t);return Math.round(o*e)/e}var He=function(o){Gt(t,o);function t(e,i,n){bt(this,t);var r=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,n));r.__truncationSuspended=!1;var s=r,a=void 0;function h(){var p=parseFloat(s.__input.value);v.isNaN(p)||s.setValue(p)}function l(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function u(){l()}function c(p){var _=a-p.clientY;s.setValue(s.getValue()+_*s.__impliedStep),a=p.clientY}function d(){y.unbind(window,"mousemove",c),y.unbind(window,"mouseup",d),l()}function f(p){y.bind(window,"mousemove",c),y.bind(window,"mouseup",d),a=p.clientY}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),y.bind(r.__input,"change",h),y.bind(r.__input,"blur",u),y.bind(r.__input,"mousedown",f),y.bind(r.__input,"keydown",function(p){p.keyCode===13&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1,l())}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return vt(t,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():Ms(this.getValue(),this.__precision),Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(sn);function An(o,t,e,i,n){return i+(n-i)*((o-t)/(e-t))}var li=function(o){Gt(t,o);function t(e,i,n,r,s){bt(this,t);var a=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,{min:n,max:r,step:s})),h=a;a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),y.bind(a.__background,"mousedown",l),y.bind(a.__background,"touchstart",d),y.addClass(a.__background,"slider"),y.addClass(a.__foreground,"slider-fg");function l(_){document.activeElement.blur(),y.bind(window,"mousemove",u),y.bind(window,"mouseup",c),u(_)}function u(_){_.preventDefault();var m=h.__background.getBoundingClientRect();return h.setValue(An(_.clientX,m.left,m.right,h.__min,h.__max)),!1}function c(){y.unbind(window,"mousemove",u),y.unbind(window,"mouseup",c),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function d(_){_.touches.length===1&&(y.bind(window,"touchmove",f),y.bind(window,"touchend",p),f(_))}function f(_){var m=_.touches[0].clientX,g=h.__background.getBoundingClientRect();h.setValue(An(m,g.left,g.right,h.__min,h.__max))}function p(){y.unbind(window,"touchmove",f),y.unbind(window,"touchend",p),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}return a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return vt(t,[{key:"updateDisplay",value:function(){var i=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=i*100+"%",Yt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(sn),an=function(o){Gt(t,o);function t(e,i,n){bt(this,t);var r=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),s=r;return r.__button=document.createElement("div"),r.__button.innerHTML=n===void 0?"Fire":n,y.bind(r.__button,"click",function(a){return a.preventDefault(),s.fire(),!1}),y.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return vt(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(jt),ui=function(o){Gt(t,o);function t(e,i){bt(this,t);var n=qt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));n.__color=new G(n.getValue()),n.__temp=new G(0);var r=n;n.domElement=document.createElement("div"),y.makeSelectable(n.domElement,!1),n.__selector=document.createElement("div"),n.__selector.className="selector",n.__saturation_field=document.createElement("div"),n.__saturation_field.className="saturation-field",n.__field_knob=document.createElement("div"),n.__field_knob.className="field-knob",n.__field_knob_border="2px solid ",n.__hue_knob=document.createElement("div"),n.__hue_knob.className="hue-knob",n.__hue_field=document.createElement("div"),n.__hue_field.className="hue-field",n.__input=document.createElement("input"),n.__input.type="text",n.__input_textShadow="0 1px 1px ",y.bind(n.__input,"keydown",function(_){_.keyCode===13&&c.call(this)}),y.bind(n.__input,"blur",c),y.bind(n.__selector,"mousedown",function(){y.addClass(this,"drag").bind(window,"mouseup",function(){y.removeClass(r.__selector,"drag")})}),y.bind(n.__selector,"touchstart",function(){y.addClass(this,"drag").bind(window,"touchend",function(){y.removeClass(r.__selector,"drag")})});var s=document.createElement("div");v.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),v.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),v.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),v.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),v.extend(s.style,{width:"100%",height:"100%",background:"none"}),zn(s,"top","rgba(0,0,0,0)","#000"),v.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),Ss(n.__hue_field),v.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),y.bind(n.__saturation_field,"mousedown",a),y.bind(n.__saturation_field,"touchstart",a),y.bind(n.__field_knob,"mousedown",a),y.bind(n.__field_knob,"touchstart",a),y.bind(n.__hue_field,"mousedown",h),y.bind(n.__hue_field,"touchstart",h);function a(_){f(_),y.bind(window,"mousemove",f),y.bind(window,"touchmove",f),y.bind(window,"mouseup",l),y.bind(window,"touchend",l)}function h(_){p(_),y.bind(window,"mousemove",p),y.bind(window,"touchmove",p),y.bind(window,"mouseup",u),y.bind(window,"touchend",u)}function l(){y.unbind(window,"mousemove",f),y.unbind(window,"touchmove",f),y.unbind(window,"mouseup",l),y.unbind(window,"touchend",l),d()}function u(){y.unbind(window,"mousemove",p),y.unbind(window,"touchmove",p),y.unbind(window,"mouseup",u),y.unbind(window,"touchend",u),d()}function c(){var _=hi(this.value);_!==!1?(r.__color.__state=_,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function d(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}n.__saturation_field.appendChild(s),n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay();function f(_){_.type.indexOf("touch")===-1&&_.preventDefault();var m=r.__saturation_field.getBoundingClientRect(),g=_.touches&&_.touches[0]||_,w=g.clientX,b=g.clientY,M=(w-m.left)/(m.right-m.left),x=1-(b-m.top)/(m.bottom-m.top);return x>1?x=1:x<0&&(x=0),M>1?M=1:M<0&&(M=0),r.__color.v=x,r.__color.s=M,r.setValue(r.__color.toOriginal()),!1}function p(_){_.type.indexOf("touch")===-1&&_.preventDefault();var m=r.__hue_field.getBoundingClientRect(),g=_.touches&&_.touches[0]||_,w=g.clientY,b=1-(w-m.top)/(m.bottom-m.top);return b>1?b=1:b<0&&(b=0),r.__color.h=b*360,r.setValue(r.__color.toOriginal()),!1}return n}return vt(t,[{key:"updateDisplay",value:function(){var i=hi(this.getValue());if(i!==!1){var n=!1;v.each(G.COMPONENTS,function(a){if(!v.isUndefined(i[a])&&!v.isUndefined(this.__color.__state[a])&&i[a]!==this.__color.__state[a])return n=!0,{}},this),n&&v.extend(this.__color.__state,i)}v.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var r=this.__color.v<.5||this.__color.s>.5?255:0,s=255-r;v.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+r+","+r+","+r+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,zn(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),v.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+r+","+r+","+r+")",textShadow:this.__input_textShadow+"rgba("+s+","+s+","+s+",.7)"})}}]),t}(jt),Cs=["-moz-","-o-","-webkit-","-ms-",""];function zn(o,t,e,i){o.style.background="",v.each(Cs,function(n){o.style.cssText+="background: "+n+"linear-gradient("+t+", "+e+" 0%, "+i+" 100%); "})}function Ss(o){o.style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var Es={load:function(t,e){var i=e||document,n=i.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,i.getElementsByTagName("head")[0].appendChild(n)},inject:function(t,e){var i=e||document,n=document.createElement("style");n.type="text/css",n.innerHTML=t;var r=i.getElementsByTagName("head")[0];try{r.appendChild(n)}catch{}}},Ts=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,ks=function(t,e){var i=t[e];return v.isArray(arguments[2])||v.isObject(arguments[2])?new dr(t,e,arguments[2]):v.isNumber(i)?v.isNumber(arguments[2])&&v.isNumber(arguments[3])?v.isNumber(arguments[4])?new li(t,e,arguments[2],arguments[3],arguments[4]):new li(t,e,arguments[2],arguments[3]):v.isNumber(arguments[4])?new He(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new He(t,e,{min:arguments[2],max:arguments[3]}):v.isString(i)?new fr(t,e):v.isFunction(i)?new an(t,e,""):v.isBoolean(i)?new rn(t,e):null};function As(o){setTimeout(o,1e3/60)}var zs=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||As,Os=function(){function o(){bt(this,o),this.backgroundElement=document.createElement("div"),v.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),y.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),v.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;y.bind(this.backgroundElement,"click",function(){t.hide()})}return vt(o,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),v.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var e=this,i=function n(){e.domElement.style.display="none",e.backgroundElement.style.display="none",y.unbind(e.domElement,"webkitTransitionEnd",n),y.unbind(e.domElement,"transitionend",n),y.unbind(e.domElement,"oTransitionEnd",n)};y.bind(this.domElement,"webkitTransitionEnd",i),y.bind(this.domElement,"transitionend",i),y.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-y.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-y.getHeight(this.domElement)/2+"px"}}]),o}(),Ps=ys(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);Es.inject(Ps);var On="dg",Pn=72,Rn=20,We="Default",Oe=function(){try{return!!window.localStorage}catch{return!1}}(),De=void 0,Dn=!0,ce=void 0,Mi=!1,_r=[],L=function o(t){var e=this,i=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),y.addClass(this.domElement,On),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=v.defaults(i,{closeOnTop:!1,autoPlace:!0,width:o.DEFAULT_WIDTH}),i=v.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),v.isUndefined(i.load)?i.load={preset:We}:i.preset&&(i.load.preset=i.preset),v.isUndefined(i.parent)&&i.hideable&&_r.push(this),i.resizable=v.isUndefined(i.parent)&&i.resizable,i.autoPlace&&v.isUndefined(i.scrollable)&&(i.scrollable=!0);var n=Oe&&localStorage.getItem(de(this,"isLocal"))==="true",r=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return e.parent?e.getRoot().preset:i.load.preset},set:function(d){e.parent?e.getRoot().preset=d:i.load.preset=d,Ls(this),e.revert()}},width:{get:function(){return i.width},set:function(d){i.width=d,Bi(e,d)}},name:{get:function(){return i.name},set:function(d){i.name=d,s&&(s.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(d){i.closed=d,i.closed?y.addClass(e.__ul,o.CLASS_CLOSED):y.removeClass(e.__ul,o.CLASS_CLOSED),this.onResize(),e.__closeButton&&(e.__closeButton.innerHTML=d?o.TEXT_OPEN:o.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return n},set:function(d){Oe&&(n=d,d?y.bind(window,"unload",r):y.unbind(window,"unload",r),localStorage.setItem(de(e,"isLocal"),d))}}}),v.isUndefined(i.parent)){if(this.closed=i.closed||!1,y.addClass(this.domElement,o.CLASS_MAIN),y.makeSelectable(this.domElement,!1),Oe&&n){e.useLocalStorage=!0;var a=localStorage.getItem(de(this,"gui"));a&&(i.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=o.TEXT_CLOSED,y.addClass(this.__closeButton,o.CLASS_CLOSE_BUTTON),i.closeOnTop?(y.addClass(this.__closeButton,o.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(y.addClass(this.__closeButton,o.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),y.bind(this.__closeButton,"click",function(){e.closed=!e.closed})}else{i.closed===void 0&&(i.closed=!0);var h=document.createTextNode(i.name);y.addClass(h,"controller-name"),s=on(e,h);var l=function(d){return d.preventDefault(),e.closed=!e.closed,!1};y.addClass(this.__ul,o.CLASS_CLOSED),y.addClass(s,"title"),y.bind(s,"click",l),i.closed||(this.closed=!1)}i.autoPlace&&(v.isUndefined(i.parent)&&(Dn&&(ce=document.createElement("div"),y.addClass(ce,On),y.addClass(ce,o.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ce),Dn=!1),ce.appendChild(this.domElement),y.addClass(this.domElement,o.CLASS_AUTO_PLACE)),this.parent||Bi(e,i.width)),this.__resizeHandler=function(){e.onResizeDebounced()},y.bind(window,"resize",this.__resizeHandler),y.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),y.bind(this.__ul,"transitionend",this.__resizeHandler),y.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&Fs(this),r=function(){Oe&&localStorage.getItem(de(e,"isLocal"))==="true"&&localStorage.setItem(de(e,"gui"),JSON.stringify(e.getSaveObject()))},this.saveToLocalStorageIfPossible=r;function u(){var c=e.getRoot();c.width+=1,v.defer(function(){c.width-=1})}i.parent||u()};L.toggleHide=function(){Mi=!Mi,v.each(_r,function(o){o.domElement.style.display=Mi?"none":""})};L.CLASS_AUTO_PLACE="a";L.CLASS_AUTO_PLACE_CONTAINER="ac";L.CLASS_MAIN="main";L.CLASS_CONTROLLER_ROW="cr";L.CLASS_TOO_TALL="taller-than-window";L.CLASS_CLOSED="closed";L.CLASS_CLOSE_BUTTON="close-button";L.CLASS_CLOSE_TOP="close-top";L.CLASS_CLOSE_BOTTOM="close-bottom";L.CLASS_DRAG="drag";L.DEFAULT_WIDTH=245;L.TEXT_CLOSED="Close Controls";L.TEXT_OPEN="Open Controls";L._keydownHandler=function(o){document.activeElement.type!=="text"&&(o.which===Pn||o.keyCode===Pn)&&L.toggleHide()};y.bind(window,"keydown",L._keydownHandler,!1);v.extend(L.prototype,{add:function(t,e){return Fe(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return Fe(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;v.defer(function(){e.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ce.removeChild(this.domElement);var t=this;v.each(this.__folders,function(e){t.removeFolder(e)}),y.unbind(window,"keydown",L._keydownHandler,!1),Fn(this)},addFolder:function(t){if(this.__folders[t]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var i=new L(e);this.__folders[t]=i;var n=on(this,i.domElement);return y.addClass(n,"folder"),i},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],Fn(t);var e=this;v.each(t.__folders,function(i){t.removeFolder(i)}),v.defer(function(){e.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=y.getOffset(t.__ul).top,i=0;v.each(t.__ul.childNodes,function(n){t.autoPlace&&n===t.__save_row||(i+=y.getHeight(n))}),window.innerHeight-e-Rn<i?(y.addClass(t.domElement,L.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-Rn+"px"):(y.removeClass(t.domElement,L.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&v.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:v.debounce(function(){this.onResize()},50),remember:function(){if(v.isUndefined(De)&&(De=new Os,De.domElement.innerHTML=Ts),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;v.each(Array.prototype.slice.call(arguments),function(e){t.__rememberedObjects.length===0&&Ds(t),t.__rememberedObjects.indexOf(e)===-1&&t.__rememberedObjects.push(e)}),this.autoPlace&&Bi(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=ei(this)),t.folders={},v.each(this.__folders,function(e,i){t.folders[i]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ei(this),Ni(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[We]=ei(this,!0)),this.load.remembered[t]=ei(this),this.preset=t,Ii(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){v.each(this.__controllers,function(e){this.getRoot().load.remembered?pr(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())},this),v.each(this.__folders,function(e){e.revert(e)}),t||Ni(this.getRoot(),!1)},listen:function(t){var e=this.__listening.length===0;this.__listening.push(t),e&&mr(this.__listening)},updateDisplay:function(){v.each(this.__controllers,function(t){t.updateDisplay()}),v.each(this.__folders,function(t){t.updateDisplay()})}});function on(o,t,e){var i=document.createElement("li");return t&&i.appendChild(t),e?o.__ul.insertBefore(i,e):o.__ul.appendChild(i),o.onResize(),i}function Fn(o){y.unbind(window,"resize",o.__resizeHandler),o.saveToLocalStorageIfPossible&&y.unbind(window,"unload",o.saveToLocalStorageIfPossible)}function Ni(o,t){var e=o.__preset_select[o.__preset_select.selectedIndex];t?e.innerHTML=e.value+"*":e.innerHTML=e.value}function Rs(o,t,e){if(e.__li=t,e.__gui=o,v.extend(e,{options:function(s){if(arguments.length>1){var a=e.__li.nextElementSibling;return e.remove(),Fe(o,e.object,e.property,{before:a,factoryArgs:[v.toArray(arguments)]})}if(v.isArray(s)||v.isObject(s)){var h=e.__li.nextElementSibling;return e.remove(),Fe(o,e.object,e.property,{before:h,factoryArgs:[s]})}},name:function(s){return e.__li.firstElementChild.firstElementChild.innerHTML=s,e},listen:function(){return e.__gui.listen(e),e},remove:function(){return e.__gui.remove(e),e}}),e instanceof li){var i=new He(e.object,e.property,{min:e.__min,max:e.__max,step:e.__step});v.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(r){var s=e[r],a=i[r];e[r]=i[r]=function(){var h=Array.prototype.slice.call(arguments);return a.apply(i,h),s.apply(e,h)}}),y.addClass(t,"has-slider"),e.domElement.insertBefore(i.domElement,e.domElement.firstElementChild)}else if(e instanceof He){var n=function(s){if(v.isNumber(e.__min)&&v.isNumber(e.__max)){var a=e.__li.firstElementChild.firstElementChild.innerHTML,h=e.__gui.__listening.indexOf(e)>-1;e.remove();var l=Fe(o,e.object,e.property,{before:e.__li.nextElementSibling,factoryArgs:[e.__min,e.__max,e.__step]});return l.name(a),h&&l.listen(),l}return s};e.min=v.compose(n,e.min),e.max=v.compose(n,e.max)}else e instanceof rn?(y.bind(t,"click",function(){y.fakeEvent(e.__checkbox,"click")}),y.bind(e.__checkbox,"click",function(r){r.stopPropagation()})):e instanceof an?(y.bind(t,"click",function(){y.fakeEvent(e.__button,"click")}),y.bind(t,"mouseover",function(){y.addClass(e.__button,"hover")}),y.bind(t,"mouseout",function(){y.removeClass(e.__button,"hover")})):e instanceof ui&&(y.addClass(t,"color"),e.updateDisplay=v.compose(function(r){return t.style.borderLeftColor=e.__color.toString(),r},e.updateDisplay),e.updateDisplay());e.setValue=v.compose(function(r){return o.getRoot().__preset_select&&e.isModified()&&Ni(o.getRoot(),!0),r},e.setValue)}function pr(o,t){var e=o.getRoot(),i=e.__rememberedObjects.indexOf(t.object);if(i!==-1){var n=e.__rememberedObjectIndecesToControllers[i];if(n===void 0&&(n={},e.__rememberedObjectIndecesToControllers[i]=n),n[t.property]=t,e.load&&e.load.remembered){var r=e.load.remembered,s=void 0;if(r[o.preset])s=r[o.preset];else if(r[We])s=r[We];else return;if(s[i]&&s[i][t.property]!==void 0){var a=s[i][t.property];t.initialValue=a,t.setValue(a)}}}}function Fe(o,t,e,i){if(t[e]===void 0)throw new Error('Object "'+t+'" has no property "'+e+'"');var n=void 0;if(i.color)n=new ui(t,e);else{var r=[t,e].concat(i.factoryArgs);n=ks.apply(o,r)}i.before instanceof jt&&(i.before=i.before.__li),pr(o,n),y.addClass(n.domElement,"c");var s=document.createElement("span");y.addClass(s,"property-name"),s.innerHTML=n.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(n.domElement);var h=on(o,a,i.before);return y.addClass(h,L.CLASS_CONTROLLER_ROW),n instanceof ui?y.addClass(h,"color"):y.addClass(h,bs(n.getValue())),Rs(o,h,n),o.__controllers.push(n),n}function de(o,t){return document.location.href+"."+t}function Ii(o,t,e){var i=document.createElement("option");i.innerHTML=t,i.value=t,o.__preset_select.appendChild(i),e&&(o.__preset_select.selectedIndex=o.__preset_select.length-1)}function Ln(o,t){t.style.display=o.useLocalStorage?"block":"none"}function Ds(o){var t=o.__save_row=document.createElement("li");y.addClass(o.domElement,"has-save"),o.__ul.insertBefore(t,o.__ul.firstChild),y.addClass(t,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;",y.addClass(e,"button gears");var i=document.createElement("span");i.innerHTML="Save",y.addClass(i,"button"),y.addClass(i,"save");var n=document.createElement("span");n.innerHTML="New",y.addClass(n,"button"),y.addClass(n,"save-as");var r=document.createElement("span");r.innerHTML="Revert",y.addClass(r,"button"),y.addClass(r,"revert");var s=o.__preset_select=document.createElement("select");if(o.load&&o.load.remembered?v.each(o.load.remembered,function(c,d){Ii(o,d,d===o.preset)}):Ii(o,We,!1),y.bind(s,"change",function(){for(var c=0;c<o.__preset_select.length;c++)o.__preset_select[c].innerHTML=o.__preset_select[c].value;o.preset=this.value}),t.appendChild(s),t.appendChild(e),t.appendChild(i),t.appendChild(n),t.appendChild(r),Oe){var a=document.getElementById("dg-local-explain"),h=document.getElementById("dg-local-storage"),l=document.getElementById("dg-save-locally");l.style.display="block",localStorage.getItem(de(o,"isLocal"))==="true"&&h.setAttribute("checked","checked"),Ln(o,a),y.bind(h,"change",function(){o.useLocalStorage=!o.useLocalStorage,Ln(o,a)})}var u=document.getElementById("dg-new-constructor");y.bind(u,"keydown",function(c){c.metaKey&&(c.which===67||c.keyCode===67)&&De.hide()}),y.bind(e,"click",function(){u.innerHTML=JSON.stringify(o.getSaveObject(),void 0,2),De.show(),u.focus(),u.select()}),y.bind(i,"click",function(){o.save()}),y.bind(n,"click",function(){var c=prompt("Enter a new preset name.");c&&o.saveAs(c)}),y.bind(r,"click",function(){o.revert()})}function Fs(o){var t=void 0;o.__resize_handle=document.createElement("div"),v.extend(o.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function e(r){return r.preventDefault(),o.width+=t-r.clientX,o.onResize(),t=r.clientX,!1}function i(){y.removeClass(o.__closeButton,L.CLASS_DRAG),y.unbind(window,"mousemove",e),y.unbind(window,"mouseup",i)}function n(r){return r.preventDefault(),t=r.clientX,y.addClass(o.__closeButton,L.CLASS_DRAG),y.bind(window,"mousemove",e),y.bind(window,"mouseup",i),!1}y.bind(o.__resize_handle,"mousedown",n),y.bind(o.__closeButton,"mousedown",n),o.domElement.insertBefore(o.__resize_handle,o.domElement.firstElementChild)}function Bi(o,t){o.domElement.style.width=t+"px",o.__save_row&&o.autoPlace&&(o.__save_row.style.width=t+"px"),o.__closeButton&&(o.__closeButton.style.width=t+"px")}function ei(o,t){var e={};return v.each(o.__rememberedObjects,function(i,n){var r={},s=o.__rememberedObjectIndecesToControllers[n];v.each(s,function(a,h){r[h]=t?a.initialValue:a.getValue()}),e[n]=r}),e}function Ls(o){for(var t=0;t<o.__preset_select.length;t++)o.__preset_select[t].value===o.preset&&(o.__preset_select.selectedIndex=t)}function mr(o){o.length!==0&&zs.call(window,function(){mr(o)}),v.each(o,function(t){t.updateDisplay()})}var Ns={Color:G,math:Ue,interpret:hi},Is={Controller:jt,BooleanController:rn,OptionController:dr,StringController:fr,NumberController:sn,NumberControllerBox:He,NumberControllerSlider:li,FunctionController:an,ColorController:ui},Bs={dom:y},Vs={GUI:L},Us=L,xo={color:Ns,controllers:Is,dom:Bs,gui:Vs,GUI:Us};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const gr="143",yr=300,Nn=1e3,ii=1001,In=1002,Hs=1006,Ws=1008,Ys=1009,Xs=1023,Gs=3e3;class xr{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const n=this._listeners[t];if(n!==void 0){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const n=i.slice(0);for(let r=0,s=n.length;r<s;r++)n[r].call(this,t);t.target=null}}}const Z=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ci=Math.PI/180,Bn=180/Math.PI;function hn(){const o=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Z[o&255]+Z[o>>8&255]+Z[o>>16&255]+Z[o>>24&255]+"-"+Z[t&255]+Z[t>>8&255]+"-"+Z[t>>16&15|64]+Z[t>>24&255]+"-"+Z[e&63|128]+Z[e>>8&255]+"-"+Z[e>>16&255]+Z[e>>24&255]+Z[i&255]+Z[i>>8&255]+Z[i>>16&255]+Z[i>>24&255]).toLowerCase()}function It(o,t,e){return Math.max(t,Math.min(e,o))}class Le{constructor(t=0,e=0){Le.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,s=this.y-t.y;return this.x=r*i-s*n+t.x,this.y=r*n+s*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xi{constructor(){xi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,e,i,n,r,s,a,h,l){const u=this.elements;return u[0]=t,u[1]=n,u[2]=a,u[3]=e,u[4]=r,u[5]=h,u[6]=i,u[7]=s,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,s=i[0],a=i[3],h=i[6],l=i[1],u=i[4],c=i[7],d=i[2],f=i[5],p=i[8],_=n[0],m=n[3],g=n[6],w=n[1],b=n[4],M=n[7],x=n[2],S=n[5],C=n[8];return r[0]=s*_+a*w+h*x,r[3]=s*m+a*b+h*S,r[6]=s*g+a*M+h*C,r[1]=l*_+u*w+c*x,r[4]=l*m+u*b+c*S,r[7]=l*g+u*M+c*C,r[2]=d*_+f*w+p*x,r[5]=d*m+f*b+p*S,r[8]=d*g+f*M+p*C,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],h=t[6],l=t[7],u=t[8];return e*s*u-e*a*l-i*r*u+i*a*h+n*r*l-n*s*h}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],h=t[6],l=t[7],u=t[8],c=u*s-a*l,d=a*h-u*r,f=l*r-s*h,p=e*c+i*d+n*f;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/p;return t[0]=c*_,t[1]=(n*l-u*i)*_,t[2]=(a*i-n*s)*_,t[3]=d*_,t[4]=(u*e-n*h)*_,t[5]=(n*r-a*e)*_,t[6]=f*_,t[7]=(i*h-l*e)*_,t[8]=(s*e-i*r)*_,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,r,s,a){const h=Math.cos(r),l=Math.sin(r);return this.set(i*h,i*l,-i*(h*s+l*a)+s+t,-n*l,n*h,-n*(-l*s+h*a)+a+e,0,0,1),this}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),n=this.elements,r=n[0],s=n[3],a=n[6],h=n[1],l=n[4],u=n[7];return n[0]=e*r+i*h,n[3]=e*s+i*l,n[6]=e*a+i*u,n[1]=-i*r+e*h,n[4]=-i*s+e*l,n[7]=-i*a+e*u,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}function Vn(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}function Si(o){return o<.04045?o*.0773993808:Math.pow(o*.9478672986+.0521327014,2.4)}let oe;class qs{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement=="undefined")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{oe===void 0&&(oe=Vn("canvas")),oe.width=t.width,oe.height=t.height;const i=oe.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=oe}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap){const e=Vn("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const n=i.getImageData(0,0,t.width,t.height),r=n.data;for(let s=0;s<r.length;s++)r[s]=Si(r[s]/255)*255;return i.putImageData(n,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Si(e[i]/255)*255):e[i]=Si(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class js{constructor(t=null){this.isSource=!0,this.uuid=hn(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let r;if(Array.isArray(n)){r=[];for(let s=0,a=n.length;s<a;s++)n[s].isDataTexture?r.push(Ei(n[s].image)):r.push(Ei(n[s]))}else r=Ei(n);i.url=r}return e||(t.images[this.uuid]=i),i}}function Ei(o){return typeof HTMLImageElement!="undefined"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&o instanceof ImageBitmap?qs.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $s=0;class Ye extends xr{constructor(t=Ye.DEFAULT_IMAGE,e=Ye.DEFAULT_MAPPING,i=ii,n=ii,r=Hs,s=Ws,a=Xs,h=Ys,l=1,u=Gs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$s++}),this.uuid=hn(),this.name="",this.source=new js(t),this.mipmaps=[],this.mapping=e,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=h,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==yr)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Nn:t.x=t.x-Math.floor(t.x);break;case ii:t.x=t.x<0?0:1;break;case In:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Nn:t.y=t.y-Math.floor(t.y);break;case ii:t.y=t.y<0?0:1;break;case In:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}Ye.DEFAULT_IMAGE=null;Ye.DEFAULT_MAPPING=yr;class Qe{constructor(t=0,e=0,i=0,n=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=n}static slerpFlat(t,e,i,n,r,s,a){let h=i[n+0],l=i[n+1],u=i[n+2],c=i[n+3];const d=r[s+0],f=r[s+1],p=r[s+2],_=r[s+3];if(a===0){t[e+0]=h,t[e+1]=l,t[e+2]=u,t[e+3]=c;return}if(a===1){t[e+0]=d,t[e+1]=f,t[e+2]=p,t[e+3]=_;return}if(c!==_||h!==d||l!==f||u!==p){let m=1-a;const g=h*d+l*f+u*p+c*_,w=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const x=Math.sqrt(b),S=Math.atan2(x,g*w);m=Math.sin(m*S)/x,a=Math.sin(a*S)/x}const M=a*w;if(h=h*m+d*M,l=l*m+f*M,u=u*m+p*M,c=c*m+_*M,m===1-a){const x=1/Math.sqrt(h*h+l*l+u*u+c*c);h*=x,l*=x,u*=x,c*=x}}t[e]=h,t[e+1]=l,t[e+2]=u,t[e+3]=c}static multiplyQuaternionsFlat(t,e,i,n,r,s){const a=i[n],h=i[n+1],l=i[n+2],u=i[n+3],c=r[s],d=r[s+1],f=r[s+2],p=r[s+3];return t[e]=a*p+u*c+h*f-l*d,t[e+1]=h*p+u*d+l*c-a*f,t[e+2]=l*p+u*f+a*d-h*c,t[e+3]=u*p-a*c-h*d-l*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,n=t._y,r=t._z,s=t._order,a=Math.cos,h=Math.sin,l=a(i/2),u=a(n/2),c=a(r/2),d=h(i/2),f=h(n/2),p=h(r/2);switch(s){case"XYZ":this._x=d*u*c+l*f*p,this._y=l*f*c-d*u*p,this._z=l*u*p+d*f*c,this._w=l*u*c-d*f*p;break;case"YXZ":this._x=d*u*c+l*f*p,this._y=l*f*c-d*u*p,this._z=l*u*p-d*f*c,this._w=l*u*c+d*f*p;break;case"ZXY":this._x=d*u*c-l*f*p,this._y=l*f*c+d*u*p,this._z=l*u*p+d*f*c,this._w=l*u*c-d*f*p;break;case"ZYX":this._x=d*u*c-l*f*p,this._y=l*f*c+d*u*p,this._z=l*u*p-d*f*c,this._w=l*u*c+d*f*p;break;case"YZX":this._x=d*u*c+l*f*p,this._y=l*f*c+d*u*p,this._z=l*u*p-d*f*c,this._w=l*u*c-d*f*p;break;case"XZY":this._x=d*u*c-l*f*p,this._y=l*f*c-d*u*p,this._z=l*u*p+d*f*c,this._w=l*u*c+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return e!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],r=e[8],s=e[1],a=e[5],h=e[9],l=e[2],u=e[6],c=e[10],d=i+a+c;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(u-h)*f,this._y=(r-l)*f,this._z=(s-n)*f}else if(i>a&&i>c){const f=2*Math.sqrt(1+i-a-c);this._w=(u-h)/f,this._x=.25*f,this._y=(n+s)/f,this._z=(r+l)/f}else if(a>c){const f=2*Math.sqrt(1+a-i-c);this._w=(r-l)/f,this._x=(n+s)/f,this._y=.25*f,this._z=(h+u)/f}else{const f=2*Math.sqrt(1+c-i-a);this._w=(s-n)/f,this._x=(r+l)/f,this._y=(h+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(It(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,r=t._z,s=t._w,a=e._x,h=e._y,l=e._z,u=e._w;return this._x=i*u+s*a+n*l-r*h,this._y=n*u+s*h+r*a-i*l,this._z=r*u+s*l+i*h-n*a,this._w=s*u-i*a-n*h-r*l,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,n=this._y,r=this._z,s=this._w;let a=s*t._w+i*t._x+n*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=i,this._y=n,this._z=r,this;const h=1-a*a;if(h<=Number.EPSILON){const f=1-e;return this._w=f*s+e*this._w,this._x=f*i+e*this._x,this._y=f*n+e*this._y,this._z=f*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(h),u=Math.atan2(l,a),c=Math.sin((1-e)*u)/l,d=Math.sin(e*u)/l;return this._w=s*c+this._w*d,this._x=i*c+this._x*d,this._y=n*c+this._y*d,this._z=r*c+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(n),i*Math.sin(r),i*Math.cos(r),e*Math.sin(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class q{constructor(t=0,e=0,i=0){q.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Un.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Un.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=t.elements,s=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*s,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*s,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*s,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,a=t.z,h=t.w,l=h*e+s*n-a*i,u=h*i+a*e-r*n,c=h*n+r*i-s*e,d=-r*e-s*i-a*n;return this.x=l*h+d*-r+u*-a-c*-s,this.y=u*h+d*-s+c*-r-l*-a,this.z=c*h+d*-a+l*-s-u*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,r=t.z,s=e.x,a=e.y,h=e.z;return this.x=n*h-r*a,this.y=r*s-i*h,this.z=i*a-n*s,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Ti.copy(this).projectOnVector(t),this.sub(Ti)}reflect(t){return this.sub(Ti.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(It(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ti=new q,Un=new Qe;class pt{constructor(){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,e,i,n,r,s,a,h,l,u,c,d,f,p,_,m){const g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=n,g[1]=r,g[5]=s,g[9]=a,g[13]=h,g[2]=l,g[6]=u,g[10]=c,g[14]=d,g[3]=f,g[7]=p,g[11]=_,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,n=1/he.setFromMatrixColumn(t,0).length(),r=1/he.setFromMatrixColumn(t,1).length(),s=1/he.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*s,e[9]=i[9]*s,e[10]=i[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,n=t.y,r=t.z,s=Math.cos(i),a=Math.sin(i),h=Math.cos(n),l=Math.sin(n),u=Math.cos(r),c=Math.sin(r);if(t.order==="XYZ"){const d=s*u,f=s*c,p=a*u,_=a*c;e[0]=h*u,e[4]=-h*c,e[8]=l,e[1]=f+p*l,e[5]=d-_*l,e[9]=-a*h,e[2]=_-d*l,e[6]=p+f*l,e[10]=s*h}else if(t.order==="YXZ"){const d=h*u,f=h*c,p=l*u,_=l*c;e[0]=d+_*a,e[4]=p*a-f,e[8]=s*l,e[1]=s*c,e[5]=s*u,e[9]=-a,e[2]=f*a-p,e[6]=_+d*a,e[10]=s*h}else if(t.order==="ZXY"){const d=h*u,f=h*c,p=l*u,_=l*c;e[0]=d-_*a,e[4]=-s*c,e[8]=p+f*a,e[1]=f+p*a,e[5]=s*u,e[9]=_-d*a,e[2]=-s*l,e[6]=a,e[10]=s*h}else if(t.order==="ZYX"){const d=s*u,f=s*c,p=a*u,_=a*c;e[0]=h*u,e[4]=p*l-f,e[8]=d*l+_,e[1]=h*c,e[5]=_*l+d,e[9]=f*l-p,e[2]=-l,e[6]=a*h,e[10]=s*h}else if(t.order==="YZX"){const d=s*h,f=s*l,p=a*h,_=a*l;e[0]=h*u,e[4]=_-d*c,e[8]=p*c+f,e[1]=c,e[5]=s*u,e[9]=-a*u,e[2]=-l*u,e[6]=f*c+p,e[10]=d-_*c}else if(t.order==="XZY"){const d=s*h,f=s*l,p=a*h,_=a*l;e[0]=h*u,e[4]=-c,e[8]=l*u,e[1]=d*c+_,e[5]=s*u,e[9]=f*c-p,e[2]=p*c-f,e[6]=a*u,e[10]=_*c+d}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Zs,t,Qs)}lookAt(t,e,i){const n=this.elements;return rt.subVectors(t,e),rt.lengthSq()===0&&(rt.z=1),rt.normalize(),Nt.crossVectors(i,rt),Nt.lengthSq()===0&&(Math.abs(i.z)===1?rt.x+=1e-4:rt.z+=1e-4,rt.normalize(),Nt.crossVectors(i,rt)),Nt.normalize(),ni.crossVectors(rt,Nt),n[0]=Nt.x,n[4]=ni.x,n[8]=rt.x,n[1]=Nt.y,n[5]=ni.y,n[9]=rt.y,n[2]=Nt.z,n[6]=ni.z,n[10]=rt.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,s=i[0],a=i[4],h=i[8],l=i[12],u=i[1],c=i[5],d=i[9],f=i[13],p=i[2],_=i[6],m=i[10],g=i[14],w=i[3],b=i[7],M=i[11],x=i[15],S=n[0],C=n[4],T=n[8],E=n[12],k=n[1],z=n[5],P=n[9],O=n[13],R=n[2],B=n[6],I=n[10],N=n[14],K=n[3],gt=n[7],wt=n[11],Mt=n[15];return r[0]=s*S+a*k+h*R+l*K,r[4]=s*C+a*z+h*B+l*gt,r[8]=s*T+a*P+h*I+l*wt,r[12]=s*E+a*O+h*N+l*Mt,r[1]=u*S+c*k+d*R+f*K,r[5]=u*C+c*z+d*B+f*gt,r[9]=u*T+c*P+d*I+f*wt,r[13]=u*E+c*O+d*N+f*Mt,r[2]=p*S+_*k+m*R+g*K,r[6]=p*C+_*z+m*B+g*gt,r[10]=p*T+_*P+m*I+g*wt,r[14]=p*E+_*O+m*N+g*Mt,r[3]=w*S+b*k+M*R+x*K,r[7]=w*C+b*z+M*B+x*gt,r[11]=w*T+b*P+M*I+x*wt,r[15]=w*E+b*O+M*N+x*Mt,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],s=t[1],a=t[5],h=t[9],l=t[13],u=t[2],c=t[6],d=t[10],f=t[14],p=t[3],_=t[7],m=t[11],g=t[15];return p*(+r*h*c-n*l*c-r*a*d+i*l*d+n*a*f-i*h*f)+_*(+e*h*f-e*l*d+r*s*d-n*s*f+n*l*u-r*h*u)+m*(+e*l*c-e*a*f-r*s*c+i*s*f+r*a*u-i*l*u)+g*(-n*a*u-e*h*c+e*a*d+n*s*c-i*s*d+i*h*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],h=t[6],l=t[7],u=t[8],c=t[9],d=t[10],f=t[11],p=t[12],_=t[13],m=t[14],g=t[15],w=c*m*l-_*d*l+_*h*f-a*m*f-c*h*g+a*d*g,b=p*d*l-u*m*l-p*h*f+s*m*f+u*h*g-s*d*g,M=u*_*l-p*c*l+p*a*f-s*_*f-u*a*g+s*c*g,x=p*c*h-u*_*h-p*a*d+s*_*d+u*a*m-s*c*m,S=e*w+i*b+n*M+r*x;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/S;return t[0]=w*C,t[1]=(_*d*r-c*m*r-_*n*f+i*m*f+c*n*g-i*d*g)*C,t[2]=(a*m*r-_*h*r+_*n*l-i*m*l-a*n*g+i*h*g)*C,t[3]=(c*h*r-a*d*r-c*n*l+i*d*l+a*n*f-i*h*f)*C,t[4]=b*C,t[5]=(u*m*r-p*d*r+p*n*f-e*m*f-u*n*g+e*d*g)*C,t[6]=(p*h*r-s*m*r-p*n*l+e*m*l+s*n*g-e*h*g)*C,t[7]=(s*d*r-u*h*r+u*n*l-e*d*l-s*n*f+e*h*f)*C,t[8]=M*C,t[9]=(p*c*r-u*_*r-p*i*f+e*_*f+u*i*g-e*c*g)*C,t[10]=(s*_*r-p*a*r+p*i*l-e*_*l-s*i*g+e*a*g)*C,t[11]=(u*a*r-s*c*r-u*i*l+e*c*l+s*i*f-e*a*f)*C,t[12]=x*C,t[13]=(u*_*n-p*c*n+p*i*d-e*_*d-u*i*m+e*c*m)*C,t[14]=(p*a*n-s*_*n-p*i*h+e*_*h+s*i*m-e*a*m)*C,t[15]=(s*c*n-u*a*n+u*i*h-e*c*h-s*i*d+e*a*d)*C,this}scale(t){const e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),n=Math.sin(e),r=1-i,s=t.x,a=t.y,h=t.z,l=r*s,u=r*a;return this.set(l*s+i,l*a-n*h,l*h+n*a,0,l*a+n*h,u*a+i,u*h-n*s,0,l*h-n*a,u*h+n*s,r*h*h+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,n,r,s){return this.set(1,i,r,0,t,1,s,0,e,n,1,0,0,0,0,1),this}compose(t,e,i){const n=this.elements,r=e._x,s=e._y,a=e._z,h=e._w,l=r+r,u=s+s,c=a+a,d=r*l,f=r*u,p=r*c,_=s*u,m=s*c,g=a*c,w=h*l,b=h*u,M=h*c,x=i.x,S=i.y,C=i.z;return n[0]=(1-(_+g))*x,n[1]=(f+M)*x,n[2]=(p-b)*x,n[3]=0,n[4]=(f-M)*S,n[5]=(1-(d+g))*S,n[6]=(m+w)*S,n[7]=0,n[8]=(p+b)*C,n[9]=(m-w)*C,n[10]=(1-(d+_))*C,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,i){const n=this.elements;let r=he.set(n[0],n[1],n[2]).length();const s=he.set(n[4],n[5],n[6]).length(),a=he.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],yt.copy(this);const l=1/r,u=1/s,c=1/a;return yt.elements[0]*=l,yt.elements[1]*=l,yt.elements[2]*=l,yt.elements[4]*=u,yt.elements[5]*=u,yt.elements[6]*=u,yt.elements[8]*=c,yt.elements[9]*=c,yt.elements[10]*=c,e.setFromRotationMatrix(yt),i.x=r,i.y=s,i.z=a,this}makePerspective(t,e,i,n,r,s){const a=this.elements,h=2*r/(e-t),l=2*r/(i-n),u=(e+t)/(e-t),c=(i+n)/(i-n),d=-(s+r)/(s-r),f=-2*s*r/(s-r);return a[0]=h,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,i,n,r,s){const a=this.elements,h=1/(e-t),l=1/(i-n),u=1/(s-r),c=(e+t)*h,d=(i+n)*l,f=(s+r)*u;return a[0]=2*h,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const he=new q,yt=new pt,Zs=new q(0,0,0),Qs=new q(1,1,1),Nt=new q,ni=new q,rt=new q,Hn=new pt,Wn=new Qe;class Je{constructor(t=0,e=0,i=0,n=Je.DefaultOrder){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,n=this._order){return this._x=t,this._y=e,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const n=t.elements,r=n[0],s=n[4],a=n[8],h=n[1],l=n[5],u=n[9],c=n[2],d=n[6],f=n[10];switch(e){case"XYZ":this._y=Math.asin(It(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-It(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(h,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(It(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-It(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(It(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-It(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return Hn.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Hn,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Wn.setFromEuler(this),this.setFromQuaternion(Wn,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Je.DefaultOrder="XYZ";Je.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Js{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let Ks=0;const Yn=new q,le=new Qe,zt=new pt,ri=new q,Ae=new q,ta=new q,ea=new Qe,Xn=new q(1,0,0),Gn=new q(0,1,0),qn=new q(0,0,1),ia={type:"added"},jn={type:"removed"};class xe extends xr{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ks++}),this.uuid=hn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xe.DefaultUp.clone();const t=new q,e=new Je,i=new Qe,n=new q(1,1,1);function r(){i.setFromEuler(e,!1)}function s(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new pt},normalMatrix:{value:new xi}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=xe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Js,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return le.setFromAxisAngle(t,e),this.quaternion.multiply(le),this}rotateOnWorldAxis(t,e){return le.setFromAxisAngle(t,e),this.quaternion.premultiply(le),this}rotateX(t){return this.rotateOnAxis(Xn,t)}rotateY(t){return this.rotateOnAxis(Gn,t)}rotateZ(t){return this.rotateOnAxis(qn,t)}translateOnAxis(t,e){return Yn.copy(t).applyQuaternion(this.quaternion),this.position.add(Yn.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Xn,t)}translateY(t){return this.translateOnAxis(Gn,t)}translateZ(t){return this.translateOnAxis(qn,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(zt.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?ri.copy(t):ri.set(t,e,i);const n=this.parent;this.updateWorldMatrix(!0,!1),Ae.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zt.lookAt(Ae,ri,this.up):zt.lookAt(ri,Ae,this.up),this.quaternion.setFromRotationMatrix(zt),n&&(zt.extractRotation(n.matrixWorld),le.setFromRotationMatrix(zt),this.quaternion.premultiply(le.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(ia)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(jn)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(jn)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),zt.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),zt.multiply(t.parent.matrixWorld)),t.applyMatrix4(zt),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const s=this.children[i].getObjectByProperty(t,e);if(s!==void 0)return s}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ae,t,ta),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ae,ea,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e===!0){const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function r(a,h){return a[h.uuid]===void 0&&(a[h.uuid]=h.toJSON(t)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const h=a.shapes;if(Array.isArray(h))for(let l=0,u=h.length;l<u;l++){const c=h[l];r(t.shapes,c)}else r(t.shapes,h)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let h=0,l=this.material.length;h<l;h++)a.push(r(t.materials,this.material[h]));n.material=a}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(let a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let a=0;a<this.animations.length;a++){const h=this.animations[a];n.animations.push(r(t.animations,h))}}if(e){const a=s(t.geometries),h=s(t.materials),l=s(t.textures),u=s(t.images),c=s(t.shapes),d=s(t.skeletons),f=s(t.animations),p=s(t.nodes);a.length>0&&(i.geometries=a),h.length>0&&(i.materials=h),l.length>0&&(i.textures=l),u.length>0&&(i.images=u),c.length>0&&(i.shapes=c),d.length>0&&(i.skeletons=d),f.length>0&&(i.animations=f),p.length>0&&(i.nodes=p)}return i.object=n,i;function s(a){const h=[];for(const l in a){const u=a[l];delete u.metadata,h.push(u)}return h}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const n=t.children[i];this.add(n.clone())}return this}}xe.DefaultUp=new q(0,1,0);xe.DefaultMatrixAutoUpdate=!0;class na extends xe{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class bo extends na{constructor(t=50,e=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Bn*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Ci*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Bn*2*Math.atan(Math.tan(Ci*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,n,r,s){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Ci*.5*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n;const s=this.view;if(this.view!==null&&this.view.enabled){const h=s.fullWidth,l=s.fullHeight;r+=s.offsetX*n/h,e-=s.offsetY*i/l,n*=s.width/h,i*=s.height/l}const a=this.filmOffset;a!==0&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gr}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=gr);function Ot(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function br(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,o.__proto__=t}/*!
 * GSAP 3.11.0
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ot={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},be={duration:.5,overwrite:!1,delay:0},ln,xt,Y,dt=1e8,F=1/dt,Vi=Math.PI*2,ra=Vi/4,sa=0,vr=Math.sqrt,aa=Math.cos,oa=Math.sin,j=function(t){return typeof t=="string"},H=function(t){return typeof t=="function"},Dt=function(t){return typeof t=="number"},un=function(t){return typeof t=="undefined"},kt=function(t){return typeof t=="object"},et=function(t){return t!==!1},wr=function(){return typeof window!="undefined"},si=function(t){return H(t)||j(t)},Mr=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},J=Array.isArray,Ui=/(?:-?\.?\d|\.)+/gi,Cr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_e=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ki=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Sr=/[+-]=-?[.\d]+/,Er=/[^,'"\[\]\s]+/gi,ha=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,V,ct,Hi,cn,ht={},ci={},Tr,kr=function(t){return(ci=se(t,ht))&&lt},dn=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},di=function(t,e){return!e&&console.warn(t)},Ar=function(t,e){return t&&(ht[t]=e)&&ci&&(ci[t]=e)||ht},Xe=function(){return 0},la={suppressEvents:!0,isStart:!0},Ne={suppressEvents:!0},fn={},Ht=[],Wi={},zr,st={},Ai={},$n=30,ai=[],_n="",pn=function(t){var e=t[0],i,n;if(kt(e)||H(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(n=ai.length;n--&&!ai[n].targetTest(e););i=ai[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Jr(t[n],i)))||t.splice(n,1);return t},ie=function(t){return t._gsap||pn(ft(t))[0]._gsap},Or=function(t,e,i){return(i=t[e])&&H(i)?t[e]():un(i)&&t.getAttribute&&t.getAttribute(e)||i},it=function(t,e){return(t=t.split(",")).forEach(e)||t},W=function(t){return Math.round(t*1e5)/1e5||0},$=function(t){return Math.round(t*1e7)/1e7||0},me=function(t,e){var i=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),i==="+"?t+n:i==="-"?t-n:i==="*"?t*n:t/n},ua=function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i},fi=function(){var t=Ht.length,e=Ht.slice(0),i,n;for(Wi={},Ht.length=0,i=0;i<t;i++)n=e[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},Pr=function(t,e,i,n){Ht.length&&fi(),t.render(e,i,n||xt),Ht.length&&fi()},Rr=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(Er).length<2?e:j(t)?t.trim():t},Dr=function(t){return t},mt=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},ca=function(t){return function(e,i){for(var n in i)n in e||n==="duration"&&t||n==="ease"||(e[n]=i[n])}},se=function(t,e){for(var i in e)t[i]=e[i];return t},Zn=function o(t,e){for(var i in e)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=kt(e[i])?o(t[i]||(t[i]={}),e[i]):e[i]);return t},_i=function(t,e){var i={},n;for(n in t)n in e||(i[n]=t[n]);return i},Ie=function(t){var e=t.parent||V,i=t.keyframes?ca(J(t.keyframes)):mt;if(et(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},da=function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0},Fr=function(t,e,i,n,r){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=t[n],a;if(r)for(a=e[r];s&&s[r]>a;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=e._dp=t,e},bi=function(t,e,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var r=e._prev,s=e._next;r?r._next=s:t[i]===e&&(t[i]=s),s?s._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},Ft=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},ne=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},fa=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Yi=function(t,e,i,n){return t._startAt&&(xt?t._startAt.revert(Ne):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},_a=function o(t){return!t||t._ts&&o(t.parent)},Qn=function(t){return t._repeat?ve(t._tTime,t=t.duration()+t._rDelay)*t:0},ve=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},pi=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},vi=function(t){return t._end=$(t._start+(t._tDur/Math.abs(t._ts||t._rts||F)||0))},wi=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=$(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),vi(t),i._dirty||ne(i,t)),t},Lr=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=pi(t.rawTime(),e),(!e._dur||Ke(0,e.totalDuration(),i)-e._tTime>F)&&e.render(i,!0)),ne(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-F}},St=function(t,e,i,n){return e.parent&&Ft(e),e._start=$((Dt(i)?i:i||t!==V?ut(t,i,e):t._time)+e._delay),e._end=$(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Fr(t,e,"_first","_last",t._sort?"_start":0),Xi(e)||(t._recent=e),n||Lr(t,e),t._ts<0&&wi(t,t._tTime),t},Nr=function(t,e){return(ht.ScrollTrigger||dn("scrollTrigger",e))&&ht.ScrollTrigger.create(e,t)},Ir=function(t,e,i,n){if(gn(t,e),!t._initted)return 1;if(!i&&t._pt&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&zr!==at.frame)return Ht.push(t),t._lazy=[e,n],1},pa=function o(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||o(e))},Xi=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},ma=function(t,e,i,n){var r=t.ratio,s=e<0||!e&&(!t._start&&pa(t)&&!(!t._initted&&Xi(t))||(t._ts<0||t._dp._ts<0)&&!Xi(t))?0:1,a=t._rDelay,h=0,l,u,c;if(a&&t._repeat&&(h=Ke(0,t._tDur,e),u=ve(h,a),t._yoyo&&u&1&&(s=1-s),u!==ve(t._tTime,a)&&(r=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==r||xt||n||t._zTime===F||!e&&t._zTime){if(!t._initted&&Ir(t,e,n,i))return;for(c=t._zTime,t._zTime=e||(i?F:0),i||(i=e&&!c),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=h,l=t._pt;l;)l.r(s,l.d),l=l._next;e<0&&Yi(t,e,i,!0),t._onUpdate&&!i&&_t(t,"onUpdate"),h&&t._repeat&&!i&&t.parent&&_t(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&Ft(t,1),i||(_t(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},ga=function(t,e,i){var n;if(i>e)for(n=t._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<e)return n;n=n._prev}},we=function(t,e,i,n){var r=t._repeat,s=$(e)||0,a=t._tTime/t._tDur;return a&&!n&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:$(s*(r+1)+t._rDelay*r):s,a>0&&!n?wi(t,t._tTime=t._tDur*a):t.parent&&vi(t),i||ne(t.parent,t),t},Jn=function(t){return t instanceof tt?ne(t):we(t,t._dur)},ya={_start:0,endTime:Xe,totalDuration:Xe},ut=function o(t,e,i){var n=t.labels,r=t._recent||ya,s=t.duration()>=dt?r.endTime(!1):t._dur,a,h,l;return j(e)&&(isNaN(e)||e in n)?(h=e.charAt(0),l=e.substr(-1)==="%",a=e.indexOf("="),h==="<"||h===">"?(a>=0&&(e=e.replace(/=/,"")),(h==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(e.substr(1))||0)*(l?(a<0?r:i).totalDuration()/100:1)):a<0?(e in n||(n[e]=s),n[e]):(h=parseFloat(e.charAt(a-1)+e.substr(a+1)),l&&i&&(h=h/100*(J(i)?i[0]:i).totalDuration()),a>1?o(t,e.substr(0,a-1),i)+h:s+h)):e==null?s:+e},Be=function(t,e,i){var n=Dt(e[1]),r=(n?2:1)+(t<2?0:1),s=e[r],a,h;if(n&&(s.duration=e[1]),s.parent=i,t){for(a=s,h=i;h&&!("immediateRender"in a);)a=h.vars.defaults||{},h=et(h.vars.inherit)&&h.parent;s.immediateRender=et(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[r-1]}return new X(e[0],s,e[r+1])},$t=function(t,e){return t||t===0?e(t):e},Ke=function(t,e,i){return i<t?t:i>e?e:i},Q=function(t,e){return!j(t)||!(e=ha.exec(t))?"":e[1]},xa=function(t,e,i){return $t(i,function(n){return Ke(t,e,n)})},Gi=[].slice,Br=function(t,e){return t&&kt(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&kt(t[0]))&&!t.nodeType&&t!==ct},ba=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(n){var r;return j(n)&&!e||Br(n,1)?(r=i).push.apply(r,ft(n)):i.push(n)})||i},ft=function(t,e,i){return Y&&!e&&Y.selector?Y.selector(t):j(t)&&!i&&(Hi||!Me())?Gi.call((e||cn).querySelectorAll(t),0):J(t)?ba(t,i):Br(t)?Gi.call(t,0):t?[t]:[]},qi=function(t){return t=ft(t)[0]||di("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return ft(e,i.querySelectorAll?i:i===t?di("Invalid scope")||cn.createElement("div"):t)}},Vr=function(t){return t.sort(function(){return .5-Math.random()})},Ur=function(t){if(H(t))return t;var e=kt(t)?t:{each:t},i=re(e.ease),n=e.from||0,r=parseFloat(e.base)||0,s={},a=n>0&&n<1,h=isNaN(n)||a,l=e.axis,u=n,c=n;return j(n)?u=c={center:.5,edges:.5,end:1}[n]||0:!a&&h&&(u=n[0],c=n[1]),function(d,f,p){var _=(p||e).length,m=s[_],g,w,b,M,x,S,C,T,E;if(!m){if(E=e.grid==="auto"?0:(e.grid||[1,dt])[1],!E){for(C=-dt;C<(C=p[E++].getBoundingClientRect().left)&&E<_;);E--}for(m=s[_]=[],g=h?Math.min(E,_)*u-.5:n%E,w=E===dt?0:h?_*c/E-.5:n/E|0,C=0,T=dt,S=0;S<_;S++)b=S%E-g,M=w-(S/E|0),m[S]=x=l?Math.abs(l==="y"?M:b):vr(b*b+M*M),x>C&&(C=x),x<T&&(T=x);n==="random"&&Vr(m),m.max=C-T,m.min=T,m.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(E>_?_-1:l?l==="y"?_/E:E:Math.max(E,_/E))||0)*(n==="edges"?-1:1),m.b=_<0?r-_:r,m.u=Q(e.amount||e.each)||0,i=i&&_<0?$r(i):i}return _=(m[d]-m.min)/m.max||0,$(m.b+(i?i(_):_)*m.v)+m.u}},ji=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var n=$(Math.round(parseFloat(i)/t)*t*e);return(n-n%1)/e+(Dt(i)?0:Q(i))}},Hr=function(t,e){var i=J(t),n,r;return!i&&kt(t)&&(n=i=t.radius||dt,t.values?(t=ft(t.values),(r=!Dt(t[0]))&&(n*=n)):t=ji(t.increment)),$t(e,i?H(t)?function(s){return r=t(s),Math.abs(r-s)<=n?r:s}:function(s){for(var a=parseFloat(r?s.x:s),h=parseFloat(r?s.y:0),l=dt,u=0,c=t.length,d,f;c--;)r?(d=t[c].x-a,f=t[c].y-h,d=d*d+f*f):d=Math.abs(t[c]-a),d<l&&(l=d,u=c);return u=!n||l<=n?t[u]:s,r||u===s||Dt(s)?u:u+Q(s)}:ji(t))},Wr=function(t,e,i,n){return $t(J(t)?!e:i===!0?!!(i=0):!n,function(){return J(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+i*.99))/i)*i*n)/n})},va=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(n){return e.reduce(function(r,s){return s(r)},n)}},wa=function(t,e){return function(i){return t(parseFloat(i))+(e||Q(i))}},Ma=function(t,e,i){return Xr(t,e,0,1,i)},Yr=function(t,e,i){return $t(i,function(n){return t[~~e(n)]})},Ca=function o(t,e,i){var n=e-t;return J(t)?Yr(t,o(0,t.length),e):$t(i,function(r){return(n+(r-t)%n)%n+t})},Sa=function o(t,e,i){var n=e-t,r=n*2;return J(t)?Yr(t,o(0,t.length-1),e):$t(i,function(s){return s=(r+(s-t)%r)%r||0,t+(s>n?r-s:s)})},Ge=function(t){for(var e=0,i="",n,r,s,a;~(n=t.indexOf("random(",e));)s=t.indexOf(")",n),a=t.charAt(n+7)==="[",r=t.substr(n+7,s-n-7).match(a?Er:Ui),i+=t.substr(e,n-e)+Wr(a?r:+r[0],a?0:+r[1],+r[2]||1e-5),e=s+1;return i+t.substr(e,t.length-e)},Xr=function(t,e,i,n,r){var s=e-t,a=n-i;return $t(r,function(h){return i+((h-t)/s*a||0)})},Ea=function o(t,e,i,n){var r=isNaN(t+e)?0:function(f){return(1-f)*t+f*e};if(!r){var s=j(t),a={},h,l,u,c,d;if(i===!0&&(n=1)&&(i=null),s)t={p:t},e={p:e};else if(J(t)&&!J(e)){for(u=[],c=t.length,d=c-2,l=1;l<c;l++)u.push(o(t[l-1],t[l]));c--,r=function(p){p*=c;var _=Math.min(d,~~p);return u[_](p-_)},i=e}else n||(t=se(J(t)?[]:{},t));if(!u){for(h in e)mn.call(a,t,h,"get",e[h]);r=function(p){return bn(p,a)||(s?t.p:t)}}}return $t(i,r)},Kn=function(t,e,i){var n=t.labels,r=dt,s,a,h;for(s in n)a=n[s]-e,a<0==!!i&&a&&r>(a=Math.abs(a))&&(h=s,r=a);return h},_t=function(t,e,i){var n=t.vars,r=n[e],s=Y,a=t._ctx,h,l,u;if(!!r)return h=n[e+"Params"],l=n.callbackScope||t,i&&Ht.length&&fi(),a&&(Y=a),u=h?r.apply(l,h):r.call(l),Y=s,u},Pe=function(t){return Ft(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&_t(t,"onInterrupt"),t},pe,Ta=function(t){t=!t.name&&t.default||t;var e=t.name,i=H(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:Xe,render:bn,add:mn,kill:Wa,modifier:Ha,rawVars:0},s={targetTest:0,get:0,getSetter:xn,aliases:{},register:0};if(Me(),t!==n){if(st[e])return;mt(n,mt(_i(t,r),s)),se(n.prototype,se(r,_i(t,s))),st[n.prop=e]=n,t.targetTest&&(ai.push(n),fn[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Ar(e,n),t.register&&t.register(lt,n,nt)},D=255,Re={aqua:[0,D,D],lime:[0,D,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,D],navy:[0,0,128],white:[D,D,D],olive:[128,128,0],yellow:[D,D,0],orange:[D,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[D,0,0],pink:[D,192,203],cyan:[0,D,D],transparent:[D,D,D,0]},zi=function(t,e,i){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*D+.5|0},Gr=function(t,e,i){var n=t?Dt(t)?[t>>16,t>>8&D,t&D]:0:Re.black,r,s,a,h,l,u,c,d,f,p;if(!n){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Re[t])n=Re[t];else if(t.charAt(0)==="#"){if(t.length<6&&(r=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+r+r+s+s+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return n=parseInt(t.substr(1,6),16),[n>>16,n>>8&D,n&D,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),n=[t>>16,t>>8&D,t&D]}else if(t.substr(0,3)==="hsl"){if(n=p=t.match(Ui),!e)h=+n[0]%360/360,l=+n[1]/100,u=+n[2]/100,s=u<=.5?u*(l+1):u+l-u*l,r=u*2-s,n.length>3&&(n[3]*=1),n[0]=zi(h+1/3,r,s),n[1]=zi(h,r,s),n[2]=zi(h-1/3,r,s);else if(~t.indexOf("="))return n=t.match(Cr),i&&n.length<4&&(n[3]=1),n}else n=t.match(Ui)||Re.transparent;n=n.map(Number)}return e&&!p&&(r=n[0]/D,s=n[1]/D,a=n[2]/D,c=Math.max(r,s,a),d=Math.min(r,s,a),u=(c+d)/2,c===d?h=l=0:(f=c-d,l=u>.5?f/(2-c-d):f/(c+d),h=c===r?(s-a)/f+(s<a?6:0):c===s?(a-r)/f+2:(r-s)/f+4,h*=60),n[0]=~~(h+.5),n[1]=~~(l*100+.5),n[2]=~~(u*100+.5)),i&&n.length<4&&(n[3]=1),n},qr=function(t){var e=[],i=[],n=-1;return t.split(Wt).forEach(function(r){var s=r.match(_e)||[];e.push.apply(e,s),i.push(n+=s.length+1)}),e.c=i,e},tr=function(t,e,i){var n="",r=(t+n).match(Wt),s=e?"hsla(":"rgba(",a=0,h,l,u,c;if(!r)return t;if(r=r.map(function(d){return(d=Gr(d,e,1))&&s+(e?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=qr(t),h=i.c,h.join(n)!==u.c.join(n)))for(l=t.replace(Wt,"1").split(_e),c=l.length-1;a<c;a++)n+=l[a]+(~h.indexOf(a)?r.shift()||s+"0,0,0,0)":(u.length?u:r.length?r:i).shift());if(!l)for(l=t.split(Wt),c=l.length-1;a<c;a++)n+=l[a]+r[a];return n+l[c]},Wt=function(){var o="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Re)o+="|"+t+"\\b";return new RegExp(o+")","gi")}(),ka=/hsl[a]?\(/,jr=function(t){var e=t.join(" "),i;if(Wt.lastIndex=0,Wt.test(e))return i=ka.test(e),t[1]=tr(t[1],i),t[0]=tr(t[0],i,qr(t[1])),!0},qe,at=function(){var o=Date.now,t=500,e=33,i=o(),n=i,r=1e3/240,s=r,a=[],h,l,u,c,d,f,p=function _(m){var g=o()-n,w=m===!0,b,M,x,S;if(g>t&&(i+=g-e),n+=g,x=n-i,b=x-s,(b>0||w)&&(S=++c.frame,d=x-c.time*1e3,c.time=x=x/1e3,s+=b+(b>=r?4:r-b),M=1),w||(h=l(_)),M)for(f=0;f<a.length;f++)a[f](x,d,S,m)};return c={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(m){return d/(1e3/(m||60))},wake:function(){Tr&&(!Hi&&wr()&&(ct=Hi=window,cn=ct.document||{},ht.gsap=lt,(ct.gsapVersions||(ct.gsapVersions=[])).push(lt.version),kr(ci||ct.GreenSockGlobals||!ct.gsap&&ct||{}),u=ct.requestAnimationFrame),h&&c.sleep(),l=u||function(m){return setTimeout(m,s-c.time*1e3+1|0)},qe=1,p(2))},sleep:function(){(u?ct.cancelAnimationFrame:clearTimeout)(h),qe=0,l=Xe},lagSmoothing:function(m,g){t=m||1/F,e=Math.min(g,t,0)},fps:function(m){r=1e3/(m||240),s=c.time*1e3+r},add:function(m,g,w){var b=g?function(M,x,S,C){m(M,x,S,C),c.remove(b)}:m;return c.remove(m),a[w?"unshift":"push"](b),Me(),b},remove:function(m,g){~(g=a.indexOf(m))&&a.splice(g,1)&&f>=g&&f--},_listeners:a},c}(),Me=function(){return!qe&&at.wake()},A={},Aa=/^[\d.\-M][\d.\-,\s]/,za=/["']/g,Oa=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),n=i[0],r=1,s=i.length,a,h,l;r<s;r++)h=i[r],a=r!==s-1?h.lastIndexOf(","):h.length,l=h.substr(0,a),e[n]=isNaN(l)?l.replace(za,"").trim():+l,n=h.substr(a+1).trim();return e},Pa=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)},Ra=function(t){var e=(t+"").split("("),i=A[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Oa(e[1])]:Pa(t).split(",").map(Rr)):A._CE&&Aa.test(t)?A._CE("",t):i},$r=function(t){return function(e){return 1-t(1-e)}},Zr=function o(t,e){for(var i=t._first,n;i;)i instanceof tt?o(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?o(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next},re=function(t,e){return t&&(H(t)?t:A[t]||Ra(t))||e},ae=function(t,e,i,n){i===void 0&&(i=function(h){return 1-e(1-h)}),n===void 0&&(n=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var r={easeIn:e,easeOut:i,easeInOut:n},s;return it(t,function(a){A[a]=ht[a]=r,A[s=a.toLowerCase()]=i;for(var h in r)A[s+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=A[a+"."+h]=r[h]}),r},Qr=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Oi=function o(t,e,i){var n=e>=1?e:1,r=(i||(t?.3:.45))/(e<1?e:1),s=r/Vi*(Math.asin(1/n)||0),a=function(u){return u===1?1:n*Math.pow(2,-10*u)*oa((u-s)*r)+1},h=t==="out"?a:t==="in"?function(l){return 1-a(1-l)}:Qr(a);return r=Vi/r,h.config=function(l,u){return o(t,l,u)},h},Pi=function o(t,e){e===void 0&&(e=1.70158);var i=function(s){return s?--s*s*((e+1)*s+e)+1:0},n=t==="out"?i:t==="in"?function(r){return 1-i(1-r)}:Qr(i);return n.config=function(r){return o(t,r)},n};it("Linear,Quad,Cubic,Quart,Quint,Strong",function(o,t){var e=t<5?t+1:t;ae(o+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});A.Linear.easeNone=A.none=A.Linear.easeIn;ae("Elastic",Oi("in"),Oi("out"),Oi());(function(o,t){var e=1/t,i=2*e,n=2.5*e,r=function(a){return a<e?o*a*a:a<i?o*Math.pow(a-1.5/t,2)+.75:a<n?o*(a-=2.25/t)*a+.9375:o*Math.pow(a-2.625/t,2)+.984375};ae("Bounce",function(s){return 1-r(1-s)},r)})(7.5625,2.75);ae("Expo",function(o){return o?Math.pow(2,10*(o-1)):0});ae("Circ",function(o){return-(vr(1-o*o)-1)});ae("Sine",function(o){return o===1?1:-aa(o*ra)+1});ae("Back",Pi("in"),Pi("out"),Pi());A.SteppedEase=A.steps=ht.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,n=t+(e?0:1),r=e?1:0,s=1-F;return function(a){return((n*Ke(0,s,a)|0)+r)*i}}};be.ease=A["quad.out"];it("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(o){return _n+=o+","+o+"Params,"});var Jr=function(t,e){this.id=sa++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Or,this.set=e?e.getSetter:xn},Ce=function(){function o(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,we(this,+e.duration,1,1),this.data=e.data,Y&&(this._ctx=Y,Y.data.push(this)),qe||at.wake()}var t=o.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,we(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,n){if(Me(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(wi(this,i),!r._dp||r.parent||Lr(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&St(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===F||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Pr(this,i,n)),this},t.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Qn(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},t.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Qn(this),n):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?ve(this._tTime,r)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-F?0:this._rts;if(this._rts===i)return this;var n=this.parent&&this._ts?pi(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-F?0:this._rts,this.totalTime(Ke(-this._delay,this._tDur,n),!0),vi(this),fa(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Me(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==F&&(this._tTime-=F)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&St(n,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(et(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pi(n.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=Ne);var n=xt;return xt=i,this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents),this.data!=="nested"&&Ft(this),xt=n,this},t.globalTime=function(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(n._ts||1),n=n._dp;return!this.parent&&this.vars.immediateRender?-1:r},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Jn(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,Jn(this),n?this.time(n):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,n){return this.totalTime(ut(this,i),et(n))},t.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,et(n))},t.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},t.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},t.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-F:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-F,this},t.isActive=function(){var i=this.parent||this._dp,n=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=n&&r<this.endTime(!0)-F)},t.eventCallback=function(i,n,r){var s=this.vars;return arguments.length>1?(n?(s[i]=n,r&&(s[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=n)):delete s[i],this):s[i]},t.then=function(i){var n=this;return new Promise(function(r){var s=H(i)?i:Dr,a=function(){var l=n.then;n.then=null,H(s)&&(s=s(n))&&(s.then||s===n)&&(n.then=l),r(s),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},t.kill=function(){Pe(this)},o}();mt(Ce.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-F,_prom:0,_ps:!1,_rts:1});var tt=function(o){br(t,o);function t(i,n){var r;return i===void 0&&(i={}),r=o.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=et(i.sortChildren),V&&St(i.parent||V,Ot(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&Nr(Ot(r),i.scrollTrigger),r}var e=t.prototype;return e.to=function(n,r,s){return Be(0,arguments,this),this},e.from=function(n,r,s){return Be(1,arguments,this),this},e.fromTo=function(n,r,s,a){return Be(2,arguments,this),this},e.set=function(n,r,s){return r.duration=0,r.parent=this,Ie(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new X(n,r,ut(this,s),1),this},e.call=function(n,r,s){return St(this,X.delayedCall(0,n,r),s)},e.staggerTo=function(n,r,s,a,h,l,u){return s.duration=r,s.stagger=s.stagger||a,s.onComplete=l,s.onCompleteParams=u,s.parent=this,new X(n,s,ut(this,h)),this},e.staggerFrom=function(n,r,s,a,h,l,u){return s.runBackwards=1,Ie(s).immediateRender=et(s.immediateRender),this.staggerTo(n,r,s,a,h,l,u)},e.staggerFromTo=function(n,r,s,a,h,l,u,c){return a.startAt=s,Ie(a).immediateRender=et(a.immediateRender),this.staggerTo(n,r,a,h,l,u,c)},e.render=function(n,r,s){var a=this._time,h=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=n<=0?0:$(n),c=this._zTime<0!=n<0&&(this._initted||!l),d,f,p,_,m,g,w,b,M,x,S,C;if(this!==V&&u>h&&n>=0&&(u=h),u!==this._tTime||s||c){if(a!==this._time&&l&&(u+=this._time-a,n+=this._time-a),d=u,M=this._start,b=this._ts,g=!b,c&&(l||(a=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(S=this._yoyo,m=l+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(m*100+n,r,s);if(d=$(u%m),u===h?(_=this._repeat,d=l):(_=~~(u/m),_&&_===u/m&&(d=l,_--),d>l&&(d=l)),x=ve(this._tTime,m),!a&&this._tTime&&x!==_&&(x=_),S&&_&1&&(d=l-d,C=1),_!==x&&!this._lock){var T=S&&x&1,E=T===(S&&_&1);if(_<x&&(T=!T),a=T?0:l,this._lock=1,this.render(a||(C?0:$(_*m)),r,!l)._lock=0,this._tTime=u,!r&&this.parent&&_t(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,h=this._tDur,E&&(this._lock=2,a=T?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;Zr(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=ga(this,$(a),$(d)),w&&(u-=d-(d=w._start))),this._tTime=u,this._time=d,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&d&&!r&&(_t(this,"onStart"),this._tTime!==u))return this;if(d>=a&&n>=0)for(f=this._first;f;){if(p=f._next,(f._act||d>=f._start)&&f._ts&&w!==f){if(f.parent!==this)return this.render(n,r,s);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,r,s),d!==this._time||!this._ts&&!g){w=0,p&&(u+=this._zTime=-F);break}}f=p}else{s=s||xt,f=this._last;for(var k=n<0?n:d;f;){if(p=f._prev,(f._act||k<=f._end)&&f._ts&&w!==f){if(f.parent!==this)return this.render(n,r,s);if(f.render(f._ts>0?(k-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(k-f._start)*f._ts,r,s),d!==this._time||!this._ts&&!g){w=0,p&&(u+=this._zTime=k?-F:F);break}}f=p}}if(w&&!r&&(this.pause(),w.render(d>=a?0:-F)._zTime=d>=a?1:-1,this._ts))return this._start=M,vi(this),this.render(n,r,s);this._onUpdate&&!r&&_t(this,"onUpdate",!0),(u===h&&this._tTime>=this.totalDuration()||!u&&a)&&(M===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((n||!l)&&(u===h&&this._ts>0||!u&&this._ts<0)&&Ft(this,1),!r&&!(n<0&&!a)&&(u||a||!h)&&(_t(this,u===h&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(n,r){var s=this;if(Dt(r)||(r=ut(this,r,n)),!(n instanceof Ce)){if(J(n))return n.forEach(function(a){return s.add(a,r)}),this;if(j(n))return this.addLabel(n,r);if(H(n))n=X.delayedCall(0,n);else return this}return this!==n?St(this,n,r):this},e.getChildren=function(n,r,s,a){n===void 0&&(n=!0),r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=-dt);for(var h=[],l=this._first;l;)l._start>=a&&(l instanceof X?r&&h.push(l):(s&&h.push(l),n&&h.push.apply(h,l.getChildren(!0,r,s)))),l=l._next;return h},e.getById=function(n){for(var r=this.getChildren(1,1,1),s=r.length;s--;)if(r[s].vars.id===n)return r[s]},e.remove=function(n){return j(n)?this.removeLabel(n):H(n)?this.killTweensOf(n):(bi(this,n),n===this._recent&&(this._recent=this._last),ne(this))},e.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=$(at.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),o.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},e.addLabel=function(n,r){return this.labels[n]=ut(this,r),this},e.removeLabel=function(n){return delete this.labels[n],this},e.addPause=function(n,r,s){var a=X.delayedCall(0,r||Xe,s);return a.data="isPause",this._hasPause=1,St(this,a,ut(this,n))},e.removePause=function(n){var r=this._first;for(n=ut(this,n);r;)r._start===n&&r.data==="isPause"&&Ft(r),r=r._next},e.killTweensOf=function(n,r,s){for(var a=this.getTweensOf(n,s),h=a.length;h--;)Bt!==a[h]&&a[h].kill(n,r);return this},e.getTweensOf=function(n,r){for(var s=[],a=ft(n),h=this._first,l=Dt(r),u;h;)h instanceof X?ua(h._targets,a)&&(l?(!Bt||h._initted&&h._ts)&&h.globalTime(0)<=r&&h.globalTime(h.totalDuration())>r:!r||h.isActive())&&s.push(h):(u=h.getTweensOf(a,r)).length&&s.push.apply(s,u),h=h._next;return s},e.tweenTo=function(n,r){r=r||{};var s=this,a=ut(s,n),h=r,l=h.startAt,u=h.onStart,c=h.onStartParams,d=h.immediateRender,f,p=X.to(s,mt({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(l&&"time"in l?l.time:s._time))/s.timeScale())||F,onStart:function(){if(s.pause(),!f){var m=r.duration||Math.abs((a-(l&&"time"in l?l.time:s._time))/s.timeScale());p._dur!==m&&we(p,m,0,1).render(p._time,!0,!0),f=1}u&&u.apply(p,c||[])}},r));return d?p.render(0):p},e.tweenFromTo=function(n,r,s){return this.tweenTo(r,mt({startAt:{time:ut(this,n)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(n){return n===void 0&&(n=this._time),Kn(this,ut(this,n))},e.previousLabel=function(n){return n===void 0&&(n=this._time),Kn(this,ut(this,n),1)},e.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+F)},e.shiftChildren=function(n,r,s){s===void 0&&(s=0);for(var a=this._first,h=this.labels,l;a;)a._start>=s&&(a._start+=n,a._end+=n),a=a._next;if(r)for(l in h)h[l]>=s&&(h[l]+=n);return ne(this)},e.invalidate=function(){var n=this._first;for(this._lock=0;n;)n.invalidate(),n=n._next;return o.prototype.invalidate.call(this)},e.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,s;r;)s=r._next,this.remove(r),r=s;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),ne(this)},e.totalDuration=function(n){var r=0,s=this,a=s._last,h=dt,l,u,c;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-n:n));if(s._dirty){for(c=s.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>h&&s._sort&&a._ts&&!s._lock?(s._lock=1,St(s,a,u-a._delay,1)._lock=0):h=u,u<0&&a._ts&&(r-=u,(!c&&!s._dp||c&&c.smoothChildTiming)&&(s._start+=u/s._ts,s._time-=u,s._tTime-=u),s.shiftChildren(-u,!1,-1/0),h=0),a._end>r&&a._ts&&(r=a._end),a=l;we(s,s===V&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(n){if(V._ts&&(Pr(V,pi(n,V)),zr=at.frame),at.frame>=$n){$n+=ot.autoSleep||120;var r=V._first;if((!r||!r._ts)&&ot.autoSleep&&at._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||at.sleep()}}},t}(Ce);mt(tt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Da=function(t,e,i,n,r,s,a){var h=new nt(this._pt,t,e,0,1,rs,null,r),l=0,u=0,c,d,f,p,_,m,g,w;for(h.b=i,h.e=n,i+="",n+="",(g=~n.indexOf("random("))&&(n=Ge(n)),s&&(w=[i,n],s(w,t,e),i=w[0],n=w[1]),d=i.match(ki)||[];c=ki.exec(n);)p=c[0],_=n.substring(l,c.index),f?f=(f+1)%5:_.substr(-5)==="rgba("&&(f=1),p!==d[u++]&&(m=parseFloat(d[u-1])||0,h._pt={_next:h._pt,p:_||u===1?_:",",s:m,c:p.charAt(1)==="="?me(m,p)-m:parseFloat(p)-m,m:f&&f<4?Math.round:0},l=ki.lastIndex);return h.c=l<n.length?n.substring(l,n.length):"",h.fp=a,(Sr.test(n)||g)&&(h.e=0),this._pt=h,h},mn=function(t,e,i,n,r,s,a,h,l,u){H(n)&&(n=n(r||0,t,s));var c=t[e],d=i!=="get"?i:H(c)?l?t[e.indexOf("set")||!H(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():c,f=H(c)?l?Ba:is:yn,p;if(j(n)&&(~n.indexOf("random(")&&(n=Ge(n)),n.charAt(1)==="="&&(p=me(d,n)+(Q(d)||0),(p||p===0)&&(n=p))),!u||d!==n||$i)return!isNaN(d*n)&&n!==""?(p=new nt(this._pt,t,e,+d||0,n-(d||0),typeof c=="boolean"?Ua:ns,0,f),l&&(p.fp=l),a&&p.modifier(a,this,t),this._pt=p):(!c&&!(e in t)&&dn(e,n),Da.call(this,t,e,d,n,f,h||ot.stringFilter,l))},Fa=function(t,e,i,n,r){if(H(t)&&(t=Ve(t,r,e,i,n)),!kt(t)||t.style&&t.nodeType||J(t)||Mr(t))return j(t)?Ve(t,r,e,i,n):t;var s={},a;for(a in t)s[a]=Ve(t[a],r,e,i,n);return s},Kr=function(t,e,i,n,r,s){var a,h,l,u;if(st[t]&&(a=new st[t]).init(r,a.rawVars?e[t]:Fa(e[t],n,r,s,i),i,n,s)!==!1&&(i._pt=h=new nt(i._pt,r,t,0,1,a.render,a,0,a.priority),i!==pe))for(l=i._ptLookup[i._targets.indexOf(r)],u=a._props.length;u--;)l[a._props[u]]=h;return a},Bt,$i,gn=function o(t,e){var i=t.vars,n=i.ease,r=i.startAt,s=i.immediateRender,a=i.lazy,h=i.onUpdate,l=i.onUpdateParams,u=i.callbackScope,c=i.runBackwards,d=i.yoyoEase,f=i.keyframes,p=i.autoRevert,_=t._dur,m=t._startAt,g=t._targets,w=t.parent,b=w&&w.data==="nested"?w.parent._targets:g,M=t._overwrite==="auto"&&!ln,x=t.timeline,S,C,T,E,k,z,P,O,R,B,I,N,K;if(x&&(!f||!n)&&(n="none"),t._ease=re(n,be.ease),t._yEase=d?$r(re(d===!0?n:d,be.ease)):0,d&&t._yoyo&&!t._repeat&&(d=t._yEase,t._yEase=t._ease,t._ease=d),t._from=!x&&!!i.runBackwards,!x||f&&!i.stagger){if(O=g[0]?ie(g[0]).harness:0,N=O&&i[O.prop],S=_i(i,fn),m&&(m.revert(c&&_?Ne:la),m._lazy=0),r){if(Ft(t._startAt=X.set(g,mt({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:et(a),startAt:null,delay:0,onUpdate:h,onUpdateParams:l,callbackScope:u,stagger:0},r))),e<0&&(xt||!s&&!p)&&t._startAt.revert(Ne),s&&_&&e<=0){e&&(t._zTime=e);return}}else if(c&&_&&!m){if(e&&(s=!1),T=mt({overwrite:!1,data:"isFromStart",lazy:s&&et(a),immediateRender:s,stagger:0,parent:w},S),N&&(T[O.prop]=N),Ft(t._startAt=X.set(g,T)),e<0&&(xt?t._startAt.revert(Ne):t._startAt.render(-1,!0)),t._zTime=e,!s)o(t._startAt,F);else if(!e)return}for(t._pt=t._ptCache=0,a=_&&et(a)||a&&!_,C=0;C<g.length;C++){if(k=g[C],P=k._gsap||pn(g)[C]._gsap,t._ptLookup[C]=B={},Wi[P.id]&&Ht.length&&fi(),I=b===g?C:b.indexOf(k),O&&(R=new O).init(k,N||S,t,I,b)!==!1&&(t._pt=E=new nt(t._pt,k,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(gt){B[gt]=E}),R.priority&&(z=1)),!O||N)for(T in S)st[T]&&(R=Kr(T,S,t,I,k,b))?R.priority&&(z=1):B[T]=E=mn.call(t,k,T,"get",S[T],I,b,0,i.stringFilter);t._op&&t._op[C]&&t.kill(k,t._op[C]),M&&t._pt&&(Bt=t,V.killTweensOf(k,B,t.globalTime(e)),K=!t.parent,Bt=0),t._pt&&a&&(Wi[P.id]=1)}z&&ss(t),t._onInit&&t._onInit(t)}t._onUpdate=h,t._initted=(!t._op||t._pt)&&!K,f&&e<=0&&x.render(dt,!0,!0)},La=function(t,e,i,n,r,s,a){var h=(t._pt&&t._ptCache||(t._ptCache={}))[e],l,u,c,d;if(!h)for(h=t._ptCache[e]=[],c=t._ptLookup,d=t._targets.length;d--;){if(l=c[d][e],l&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return $i=1,t.vars[e]="+=0",gn(t,a),$i=0,1;h.push(l)}for(d=h.length;d--;)u=h[d],l=u._pt||u,l.s=(n||n===0)&&!r?n:l.s+(n||0)+s*l.c,l.c=i-l.s,u.e&&(u.e=W(i)+Q(u.e)),u.b&&(u.b=l.s+Q(u.b))},Na=function(t,e){var i=t[0]?ie(t[0]).harness:0,n=i&&i.aliases,r,s,a,h;if(!n)return e;r=se({},e);for(s in n)if(s in r)for(h=n[s].split(","),a=h.length;a--;)r[h[a]]=r[s];return r},Ia=function(t,e,i,n){var r=e.ease||n||"power1.inOut",s,a;if(J(e))a=i[t]||(i[t]=[]),e.forEach(function(h,l){return a.push({t:l/(e.length-1)*100,v:h,e:r})});else for(s in e)a=i[s]||(i[s]=[]),s==="ease"||a.push({t:parseFloat(t),v:e[s],e:r})},Ve=function(t,e,i,n,r){return H(t)?t.call(e,i,n,r):j(t)&&~t.indexOf("random(")?Ge(t):t},ts=_n+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",es={};it(ts+",id,stagger,delay,duration,paused,scrollTrigger",function(o){return es[o]=1});var X=function(o){br(t,o);function t(i,n,r,s){var a;typeof n=="number"&&(r.duration=n,n=r,r=null),a=o.call(this,s?n:Ie(n))||this;var h=a.vars,l=h.duration,u=h.delay,c=h.immediateRender,d=h.stagger,f=h.overwrite,p=h.keyframes,_=h.defaults,m=h.scrollTrigger,g=h.yoyoEase,w=n.parent||V,b=(J(i)||Mr(i)?Dt(i[0]):"length"in n)?[i]:ft(i),M,x,S,C,T,E,k,z;if(a._targets=b.length?pn(b):di("GSAP target "+i+" not found. https://greensock.com",!ot.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,p||d||si(l)||si(u)){if(n=a.vars,M=a.timeline=new tt({data:"nested",defaults:_||{}}),M.kill(),M.parent=M._dp=Ot(a),M._start=0,d||si(l)||si(u)){if(C=b.length,k=d&&Ur(d),kt(d))for(T in d)~ts.indexOf(T)&&(z||(z={}),z[T]=d[T]);for(x=0;x<C;x++)S=_i(n,es),S.stagger=0,g&&(S.yoyoEase=g),z&&se(S,z),E=b[x],S.duration=+Ve(l,Ot(a),x,E,b),S.delay=(+Ve(u,Ot(a),x,E,b)||0)-a._delay,!d&&C===1&&S.delay&&(a._delay=u=S.delay,a._start+=u,S.delay=0),M.to(E,S,k?k(x,E,b):0),M._ease=A.none;M.duration()?l=u=0:a.timeline=0}else if(p){Ie(mt(M.vars.defaults,{ease:"none"})),M._ease=re(p.ease||n.ease||"none");var P=0,O,R,B;if(J(p))p.forEach(function(I){return M.to(b,I,">")}),M.duration();else{S={};for(T in p)T==="ease"||T==="easeEach"||Ia(T,p[T],S,p.easeEach);for(T in S)for(O=S[T].sort(function(I,N){return I.t-N.t}),P=0,x=0;x<O.length;x++)R=O[x],B={ease:R.e,duration:(R.t-(x?O[x-1].t:0))/100*l},B[T]=R.v,M.to(b,B,P),P+=B.duration;M.duration()<l&&M.to({},{duration:l-M.duration()})}}l||a.duration(l=M.duration())}else a.timeline=0;return f===!0&&!ln&&(Bt=Ot(a),V.killTweensOf(b),Bt=0),St(w,Ot(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(c||!l&&!p&&a._start===$(w._time)&&et(c)&&_a(Ot(a))&&w.data!=="nested")&&(a._tTime=-F,a.render(Math.max(0,-u))),m&&Nr(Ot(a),m),a}var e=t.prototype;return e.render=function(n,r,s){var a=this._time,h=this._tDur,l=this._dur,u=n<0,c=n>h-F&&!u?h:n<F?0:n,d,f,p,_,m,g,w,b,M;if(!l)ma(this,n,r,s);else if(c!==this._tTime||!n||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=c,b=this.timeline,this._repeat){if(_=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(_*100+n,r,s);if(d=$(c%_),c===h?(p=this._repeat,d=l):(p=~~(c/_),p&&p===c/_&&(d=l,p--),d>l&&(d=l)),g=this._yoyo&&p&1,g&&(M=this._yEase,d=l-d),m=ve(this._tTime,_),d===a&&!s&&this._initted)return this._tTime=c,this;p!==m&&(b&&this._yEase&&Zr(b,g),this.vars.repeatRefresh&&!g&&!this._lock&&(this._lock=s=1,this.render($(_*p),!0).invalidate()._lock=0))}if(!this._initted){if(Ir(this,u?n:d,s,r))return this._tTime=0,this;if(a!==this._time)return this;if(l!==this._dur)return this.render(n,r,s)}if(this._tTime=c,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(M||this._ease)(d/l),this._from&&(this.ratio=w=1-w),d&&!a&&!r&&(_t(this,"onStart"),this._tTime!==c))return this;for(f=this._pt;f;)f.r(w,f.d),f=f._next;b&&b.render(n<0?n:!d&&g?-F:b._dur*b._ease(d/this._dur),r,s)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(u&&Yi(this,n,r,s),_t(this,"onUpdate")),this._repeat&&p!==m&&this.vars.onRepeat&&!r&&this.parent&&_t(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(u&&!this._onUpdate&&Yi(this,n,!0,!0),(n||!l)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&Ft(this,1),!r&&!(u&&!a)&&(c||a)&&(_t(this,c===h?"onComplete":"onReverseComplete",!0),this._prom&&!(c<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),o.prototype.invalidate.call(this)},e.resetTo=function(n,r,s,a){qe||at.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),l;return this._initted||gn(this,h),l=this._ease(h/this._dur),La(this,n,r,s,a,l,h)?this.resetTo(n,r,s,a):(wi(this,0),this.parent||Fr(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Pe(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,Bt&&Bt.vars.overwrite!==!0)._first||Pe(this),this.parent&&s!==this.timeline.totalDuration()&&we(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,h=n?ft(n):a,l=this._ptLookup,u=this._pt,c,d,f,p,_,m,g;if((!r||r==="all")&&da(a,h))return r==="all"&&(this._pt=0),Pe(this);for(c=this._op=this._op||[],r!=="all"&&(j(r)&&(_={},it(r,function(w){return _[w]=1}),r=_),r=Na(a,r)),g=a.length;g--;)if(~h.indexOf(a[g])){d=l[g],r==="all"?(c[g]=r,p=d,f={}):(f=c[g]=c[g]||{},p=r);for(_ in p)m=d&&d[_],m&&((!("kill"in m.d)||m.d.kill(_)===!0)&&bi(this,m,"_pt"),delete d[_]),f!=="all"&&(f[_]=1)}return this._initted&&!this._pt&&u&&Pe(this),this},t.to=function(n,r){return new t(n,r,arguments[2])},t.from=function(n,r){return Be(1,arguments)},t.delayedCall=function(n,r,s,a){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(n,r,s){return Be(2,arguments)},t.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(n,r)},t.killTweensOf=function(n,r,s){return V.killTweensOf(n,r,s)},t}(Ce);mt(X.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});it("staggerTo,staggerFrom,staggerFromTo",function(o){X[o]=function(){var t=new tt,e=Gi.call(arguments,0);return e.splice(o==="staggerFromTo"?5:4,0,0),t[o].apply(t,e)}});var yn=function(t,e,i){return t[e]=i},is=function(t,e,i){return t[e](i)},Ba=function(t,e,i,n){return t[e](n.fp,i)},Va=function(t,e,i){return t.setAttribute(e,i)},xn=function(t,e){return H(t[e])?is:un(t[e])&&t.setAttribute?Va:yn},ns=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},Ua=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},rs=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(t===1&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},bn=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Ha=function(t,e,i,n){for(var r=this._pt,s;r;)s=r._next,r.p===n&&r.modifier(t,e,i),r=s},Wa=function(t){for(var e=this._pt,i,n;e;)n=e._next,e.p===t&&!e.op||e.op===t?bi(this,e,"_pt"):e.dep||(i=1),e=n;return!i},Ya=function(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)},ss=function(t){for(var e=t._pt,i,n,r,s;e;){for(i=e._next,n=r;n&&n.pr>e.pr;)n=n._next;(e._prev=n?n._prev:s)?e._prev._next=e:r=e,(e._next=n)?n._prev=e:s=e,e=i}t._pt=r},nt=function(){function o(e,i,n,r,s,a,h,l,u){this.t=i,this.s=r,this.c=s,this.p=n,this.r=a||ns,this.d=h||this,this.set=l||yn,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=o.prototype;return t.modifier=function(i,n,r){this.mSet=this.mSet||this.set,this.set=Ya,this.m=i,this.mt=r,this.tween=n},o}();it(_n+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(o){return fn[o]=1});ht.TweenMax=ht.TweenLite=X;ht.TimelineLite=ht.TimelineMax=tt;V=new tt({sortChildren:!1,defaults:be,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ot.stringFilter=jr;var Se=[],oi={},Xa=[],er=0,Ri=function(t){return(oi[t]||Xa).map(function(e){return e()})},Zi=function(){var t=Date.now(),e=[];t-er>2&&(Ri("matchMediaInit"),Se.forEach(function(i){var n=i.queries,r=i.conditions,s,a,h,l;for(a in n)s=ct.matchMedia(n[a]).matches,s&&(h=1),s!==r[a]&&(r[a]=s,l=1);l&&(i.revert(),h&&e.push(i))}),Ri("matchMediaRevert"),e.forEach(function(i){return i.onMatch(i)}),er=t,Ri("matchMedia"))},as=function(){function o(e,i){this.selector=i&&qi(i),this.data=[],this._r=[],this.isReverted=!1,e&&this.add(e)}var t=o.prototype;return t.add=function(i,n,r){H(i)&&(r=n,n=i,i=H);var s=this,a=function(){var l=Y,u=s.selector,c;return l&&l.data.push(s),r&&(s.selector=qi(r)),Y=s,c=n.apply(s,arguments),H(c)&&s._r.push(c),Y=l,s.selector=u,s.isReverted=!1,c};return s.last=a,i===H?a(s):i?s[i]=a:a},t.ignore=function(i){var n=Y;Y=null,i(this),Y=n},t.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof o?i.push.apply(i,n.getTweens()):n instanceof X&&n._targets[0]!==n.vars.onComplete&&i.push(n)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,n){var r=this;if(i?(this.getTweens().map(function(a){return{g:a.globalTime(0),t:a}}).sort(function(a,h){return h.g-a.g||-1}).forEach(function(a){return a.t.revert(i)}),this.data.forEach(function(a){return!(a instanceof Ce)&&a.revert&&a.revert(i)}),this._r.forEach(function(a){return a(i,r)}),this.isReverted=!0):this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n){var s=Se.indexOf(this);~s&&Se.splice(s,1)}},t.revert=function(i){this.kill(i||{})},o}(),Ga=function(){function o(e){this.contexts=[],this.scope=e}var t=o.prototype;return t.add=function(i,n,r){kt(i)||(i={matches:i});var s=new as(0,r||this.scope),a=s.conditions={},h,l,u;this.contexts.push(s),n=s.add("onMatch",n),s.queries=i;for(l in i)l==="all"?u=1:(h=ct.matchMedia(i[l]),h&&(Se.indexOf(s)<0&&Se.push(s),(a[l]=h.matches)&&(u=1),h.addListener?h.addListener(Zi):h.addEventListener("change",Zi)));return u&&n(s),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},o}(),mi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(n){return Ta(n)})},timeline:function(t){return new tt(t)},getTweensOf:function(t,e){return V.getTweensOf(t,e)},getProperty:function(t,e,i,n){j(t)&&(t=ft(t)[0]);var r=ie(t||{}).get,s=i?Dr:Rr;return i==="native"&&(i=""),t&&(e?s((st[e]&&st[e].get||r)(t,e,i,n)):function(a,h,l){return s((st[a]&&st[a].get||r)(t,a,h,l))})},quickSetter:function(t,e,i){if(t=ft(t),t.length>1){var n=t.map(function(u){return lt.quickSetter(u,e,i)}),r=n.length;return function(u){for(var c=r;c--;)n[c](u)}}t=t[0]||{};var s=st[e],a=ie(t),h=a.harness&&(a.harness.aliases||{})[e]||e,l=s?function(u){var c=new s;pe._pt=0,c.init(t,i?u+i:u,pe,0,[t]),c.render(1,c),pe._pt&&bn(1,pe)}:a.set(t,h);return s?l:function(u){return l(t,h,i?u+i:u,a,1)}},quickTo:function(t,e,i){var n,r=lt.to(t,se((n={},n[e]="+=0.1",n.paused=!0,n),i||{})),s=function(h,l,u){return r.resetTo(e,h,l,u)};return s.tween=r,s},isTweening:function(t){return V.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=re(t.ease,be.ease)),Zn(be,t||{})},config:function(t){return Zn(ot,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,n=t.plugins,r=t.defaults,s=t.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!st[a]&&!ht[a]&&di(e+" effect requires "+a+" plugin.")}),Ai[e]=function(a,h,l){return i(ft(a),mt(h||{},r),l)},s&&(tt.prototype[e]=function(a,h,l){return this.add(Ai[e](a,kt(h)?h:(l=h)&&{},this),l)})},registerEase:function(t,e){A[t]=re(e)},parseEase:function(t,e){return arguments.length?re(t,e):A},getById:function(t){return V.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new tt(t),n,r;for(i.smoothChildTiming=et(t.smoothChildTiming),V.remove(i),i._dp=0,i._time=i._tTime=V._time,n=V._first;n;)r=n._next,(e||!(!n._dur&&n instanceof X&&n.vars.onComplete===n._targets[0]))&&St(i,n,n._start-n._delay),n=r;return St(V,i,0),i},context:function(t,e){return t?new as(t,e):Y},matchMedia:function(t){return new Ga(t)},matchMediaRefresh:function(){return Se.forEach(function(t){var e=t.conditions,i,n;for(n in e)e[n]&&(e[n]=!1,i=1);i&&t.revert()})||Zi()},addEventListener:function(t,e){var i=oi[t]||(oi[t]=[]);~i.indexOf(e)||i.push(e)},removeEventListener:function(t,e){var i=oi[t],n=i&&i.indexOf(e);n>=0&&i.splice(n,1)},utils:{wrap:Ca,wrapYoyo:Sa,distribute:Ur,random:Wr,snap:Hr,normalize:Ma,getUnit:Q,clamp:xa,splitColor:Gr,toArray:ft,selector:qi,mapRange:Xr,pipe:va,unitize:wa,interpolate:Ea,shuffle:Vr},install:kr,effects:Ai,ticker:at,updateRoot:tt.updateRoot,plugins:st,globalTimeline:V,core:{PropTween:nt,globals:Ar,Tween:X,Timeline:tt,Animation:Ce,getCache:ie,_removeLinkedListItem:bi,reverting:function(){return xt},context:function(t){return t&&Y&&(Y.data.push(t),t._ctx=Y),Y},suppressOverwrites:function(t){return ln=t}}};it("to,from,fromTo,delayedCall,set,killTweensOf",function(o){return mi[o]=X[o]});at.add(tt.updateRoot);pe=mi.to({},{duration:0});var qa=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},ja=function(t,e){var i=t._targets,n,r,s;for(n in e)for(r=i.length;r--;)s=t._ptLookup[r][n],s&&(s=s.d)&&(s._pt&&(s=qa(s,n)),s&&s.modifier&&s.modifier(e[n],t,i[r],n))},Di=function(t,e){return{name:t,rawVars:1,init:function(n,r,s){s._onInit=function(a){var h,l;if(j(r)&&(h={},it(r,function(u){return h[u]=1}),r=h),e){h={};for(l in r)h[l]=e(r[l]);r=h}ja(a,r)}}}},lt=mi.registerPlugin({name:"attr",init:function(t,e,i,n,r){var s,a,h;this.tween=i;for(s in e)h=t.getAttribute(s)||"",a=this.add(t,"setAttribute",(h||0)+"",e[s],n,r,0,0,s),a.op=s,a.b=h,this._props.push(s)},render:function(t,e){for(var i=e._pt;i;)xt?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i],0,0,0,0,0,1)}},Di("roundProps",ji),Di("modifiers"),Di("snap",Hr))||mi;X.version=tt.version=lt.version="3.11.0";Tr=1;wr()&&Me();A.Power0;A.Power1;A.Power2;A.Power3;A.Power4;A.Linear;A.Quad;A.Cubic;A.Quart;A.Quint;A.Strong;A.Elastic;A.Back;A.SteppedEase;A.Bounce;A.Sine;A.Expo;A.Circ;/*!
 * CSSPlugin 3.11.0
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ir,Vt,ge,vn,ee,nr,wn,$a=function(){return typeof window!="undefined"},Lt={},te=180/Math.PI,ye=Math.PI/180,ue=Math.atan2,rr=1e8,Mn=/([A-Z])/g,Za=/(left|right|width|margin|padding|x)/i,Qa=/[\s,\(]\S/,Rt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Qi=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Ja=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},Ka=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},to=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},os=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},hs=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},eo=function(t,e,i){return t.style[e]=i},io=function(t,e,i){return t.style.setProperty(e,i)},no=function(t,e,i){return t._gsap[e]=i},ro=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},so=function(t,e,i,n,r){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(r,s)},ao=function(t,e,i,n,r){var s=t._gsap;s[e]=i,s.renderTransform(r,s)},U="transform",Et=U+"Origin",oo=function(t){var e=this,i=this.target,n=i.style;if(t in Lt){if(this.tfm=this.tfm||{},t!=="transform"&&(t=Rt[t]||t,~t.indexOf(",")?t.split(",").forEach(function(r){return e.tfm[r]=Pt(i,r)}):this.tfm[t]=i._gsap.x?i._gsap[t]:Pt(i,t)),i._gsap.svg&&(this.svg=i.getAttribute(t)||""),this.props.indexOf(U)>=0)return;t=U}n&&this.props.push(t,n[t])},ls=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ho=function(){var t=this.props,e=this.target,i=e.style,n=e._gsap,r,s;for(r=0;r<t.length;r+=2)t[r+1]?i[t[r]]=t[r+1]:i.removeProperty(t[r].replace(Mn,"-$1").toLowerCase());if(this.tfm){n.svg&&e.setAttribute("transform",this.svg||"");for(s in this.tfm)n[s]=this.tfm[s];r=wn(),r&&!r.isStart&&!i[U]&&(ls(i),n.uncache=1)}},us=function(t,e){var i={target:t,props:[],revert:ho,save:oo};return e&&e.split(",").forEach(function(n){return i.save(n)}),i},cs,Ji=function(t,e){var i=Vt.createElementNS?Vt.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Vt.createElement(t);return i.style?i:Vt.createElement(t)},Tt=function o(t,e,i){var n=getComputedStyle(t);return n[e]||n.getPropertyValue(e.replace(Mn,"-$1").toLowerCase())||n.getPropertyValue(e)||!i&&o(t,Ee(e)||e,1)||""},sr="O,Moz,ms,Ms,Webkit".split(","),Ee=function(t,e,i){var n=e||ee,r=n.style,s=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(sr[s]+t in r););return s<0?null:(s===3?"ms":s>=0?sr[s]:"")+t},Ki=function(){$a()&&window.document&&(ir=window,Vt=ir.document,ge=Vt.documentElement,ee=Ji("div")||{style:{}},Ji("div"),U=Ee(U),Et=U+"Origin",ee.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",cs=!!Ee("perspective"),wn=lt.core.reverting,vn=1)},Fi=function o(t){var e=Ji("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,r=this.style.cssText,s;if(ge.appendChild(e),e.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=o}catch{}else this._gsapBBox&&(s=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),ge.removeChild(e),this.style.cssText=r,s},ar=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},ds=function(t){var e;try{e=t.getBBox()}catch{e=Fi.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Fi||(e=Fi.call(t,!0)),e&&!e.width&&!e.x&&!e.y?{x:+ar(t,["x","cx","x1"])||0,y:+ar(t,["y","cy","y1"])||0,width:0,height:0}:e},fs=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&ds(t))},je=function(t,e){if(e){var i=t.style;e in Lt&&e!==Et&&(e=U),i.removeProperty?((e.substr(0,2)==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(e.replace(Mn,"-$1").toLowerCase())):i.removeAttribute(e)}},Ut=function(t,e,i,n,r,s){var a=new nt(t._pt,e,i,0,1,s?hs:os);return t._pt=a,a.b=n,a.e=r,t._props.push(i),a},or={deg:1,rad:1,turn:1},lo={grid:1,flex:1},Xt=function o(t,e,i,n){var r=parseFloat(i)||0,s=(i+"").trim().substr((r+"").length)||"px",a=ee.style,h=Za.test(e),l=t.tagName.toLowerCase()==="svg",u=(l?"client":"offset")+(h?"Width":"Height"),c=100,d=n==="px",f=n==="%",p,_,m,g;return n===s||!r||or[n]||or[s]?r:(s!=="px"&&!d&&(r=o(t,e,i,"px")),g=t.getCTM&&fs(t),(f||s==="%")&&(Lt[e]||~e.indexOf("adius"))?(p=g?t.getBBox()[h?"width":"height"]:t[u],W(f?r/p*c:r/100*p)):(a[h?"width":"height"]=c+(d?s:n),_=~e.indexOf("adius")||n==="em"&&t.appendChild&&!l?t:t.parentNode,g&&(_=(t.ownerSVGElement||{}).parentNode),(!_||_===Vt||!_.appendChild)&&(_=Vt.body),m=_._gsap,m&&f&&m.width&&h&&m.time===at.time&&!m.uncache?W(r/m.width*c):((f||s==="%")&&!lo[Tt(_,"display")]&&(a.position=Tt(t,"position")),_===t&&(a.position="static"),_.appendChild(ee),p=ee[u],_.removeChild(ee),a.position="absolute",h&&f&&(m=ie(_),m.time=at.time,m.width=_[u]),W(d?p*r/c:p&&r?c/p*r:0))))},Pt=function(t,e,i,n){var r;return vn||Ki(),e in Rt&&e!=="transform"&&(e=Rt[e],~e.indexOf(",")&&(e=e.split(",")[0])),Lt[e]&&e!=="transform"?(r=Ze(t,n),r=e!=="transformOrigin"?r[e]:r.svg?r.origin:yi(Tt(t,Et))+" "+r.zOrigin+"px"):(r=t.style[e],(!r||r==="auto"||n||~(r+"").indexOf("calc("))&&(r=gi[e]&&gi[e](t,e,i)||Tt(t,e)||Or(t,e)||(e==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?Xt(t,e,r,i)+i:r},uo=function(t,e,i,n){if(!i||i==="none"){var r=Ee(e,t,1),s=r&&Tt(t,r,1);s&&s!==i?(e=r,i=s):e==="borderColor"&&(i=Tt(t,"borderTopColor"))}var a=new nt(this._pt,t.style,e,0,1,rs),h=0,l=0,u,c,d,f,p,_,m,g,w,b,M,x;if(a.b=i,a.e=n,i+="",n+="",n==="auto"&&(t.style[e]=n,n=Tt(t,e)||n,t.style[e]=i),u=[i,n],jr(u),i=u[0],n=u[1],d=i.match(_e)||[],x=n.match(_e)||[],x.length){for(;c=_e.exec(n);)m=c[0],w=n.substring(h,c.index),p?p=(p+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(p=1),m!==(_=d[l++]||"")&&(f=parseFloat(_)||0,M=_.substr((f+"").length),m.charAt(1)==="="&&(m=me(f,m)+M),g=parseFloat(m),b=m.substr((g+"").length),h=_e.lastIndex-b.length,b||(b=b||ot.units[e]||M,h===n.length&&(n+=b,a.e+=b)),M!==b&&(f=Xt(t,e,_,b)||0),a._pt={_next:a._pt,p:w||l===1?w:",",s:f,c:g-f,m:p&&p<4||e==="zIndex"?Math.round:0});a.c=h<n.length?n.substring(h,n.length):""}else a.r=e==="display"&&n==="none"?hs:os;return Sr.test(n)&&(a.e=0),this._pt=a,a},hr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},co=function(t){var e=t.split(" "),i=e[0],n=e[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(t=i,i=n,n=t),e[0]=hr[i]||i,e[1]=hr[n]||n,e.join(" ")},fo=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,n=i.style,r=e.u,s=i._gsap,a,h,l;if(r==="all"||r===!0)n.cssText="",h=1;else for(r=r.split(","),l=r.length;--l>-1;)a=r[l],Lt[a]&&(h=1,a=a==="transformOrigin"?Et:U),je(i,a);h&&(je(i,U),s&&(s.svg&&i.removeAttribute("transform"),Ze(i,1),s.uncache=1,ls(n)))}},gi={clearProps:function(t,e,i,n,r){if(r.data!=="isFromStart"){var s=t._pt=new nt(t._pt,e,i,0,0,fo);return s.u=n,s.pr=-10,s.tween=r,t._props.push(i),1}}},$e=[1,0,0,1,0,0],_s={},ps=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},lr=function(t){var e=Tt(t,U);return ps(e)?$e:e.substr(7).match(Cr).map(W)},Cn=function(t,e){var i=t._gsap||ie(t),n=t.style,r=lr(t),s,a,h,l;return i.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,r=[h.a,h.b,h.c,h.d,h.e,h.f],r.join(",")==="1,0,0,1,0,0"?$e:r):(r===$e&&!t.offsetParent&&t!==ge&&!i.svg&&(h=n.display,n.display="block",s=t.parentNode,(!s||!t.offsetParent)&&(l=1,a=t.nextElementSibling,ge.appendChild(t)),r=lr(t),h?n.display=h:je(t,"display"),l&&(a?s.insertBefore(t,a):s?s.appendChild(t):ge.removeChild(t))),e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},tn=function(t,e,i,n,r,s){var a=t._gsap,h=r||Cn(t,!0),l=a.xOrigin||0,u=a.yOrigin||0,c=a.xOffset||0,d=a.yOffset||0,f=h[0],p=h[1],_=h[2],m=h[3],g=h[4],w=h[5],b=e.split(" "),M=parseFloat(b[0])||0,x=parseFloat(b[1])||0,S,C,T,E;i?h!==$e&&(C=f*m-p*_)&&(T=M*(m/C)+x*(-_/C)+(_*w-m*g)/C,E=M*(-p/C)+x*(f/C)-(f*w-p*g)/C,M=T,x=E):(S=ds(t),M=S.x+(~b[0].indexOf("%")?M/100*S.width:M),x=S.y+(~(b[1]||b[0]).indexOf("%")?x/100*S.height:x)),n||n!==!1&&a.smooth?(g=M-l,w=x-u,a.xOffset=c+(g*f+w*_)-g,a.yOffset=d+(g*p+w*m)-w):a.xOffset=a.yOffset=0,a.xOrigin=M,a.yOrigin=x,a.smooth=!!n,a.origin=e,a.originIsAbsolute=!!i,t.style[Et]="0px 0px",s&&(Ut(s,a,"xOrigin",l,M),Ut(s,a,"yOrigin",u,x),Ut(s,a,"xOffset",c,a.xOffset),Ut(s,a,"yOffset",d,a.yOffset)),t.setAttribute("data-svg-origin",M+" "+x)},Ze=function(t,e){var i=t._gsap||new Jr(t);if("x"in i&&!e&&!i.uncache)return i;var n=t.style,r=i.scaleX<0,s="px",a="deg",h=getComputedStyle(t),l=Tt(t,Et)||"0",u,c,d,f,p,_,m,g,w,b,M,x,S,C,T,E,k,z,P,O,R,B,I,N,K,gt,wt,Mt,Zt,Sn,At,Qt;return u=c=d=_=m=g=w=b=M=0,f=p=1,i.svg=!!(t.getCTM&&fs(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(n[U]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+h[U]),n.scale=n.rotate=n.translate="none"),C=Cn(t,i.svg),i.svg&&(N=(!i.uncache||l==="0px 0px")&&!e&&t.getAttribute("data-svg-origin"),tn(t,N||l,!!N||i.originIsAbsolute,i.smooth!==!1,C)),x=i.xOrigin||0,S=i.yOrigin||0,C!==$e&&(z=C[0],P=C[1],O=C[2],R=C[3],u=B=C[4],c=I=C[5],C.length===6?(f=Math.sqrt(z*z+P*P),p=Math.sqrt(R*R+O*O),_=z||P?ue(P,z)*te:0,w=O||R?ue(O,R)*te+_:0,w&&(p*=Math.abs(Math.cos(w*ye))),i.svg&&(u-=x-(x*z+S*O),c-=S-(x*P+S*R))):(Qt=C[6],Sn=C[7],wt=C[8],Mt=C[9],Zt=C[10],At=C[11],u=C[12],c=C[13],d=C[14],T=ue(Qt,Zt),m=T*te,T&&(E=Math.cos(-T),k=Math.sin(-T),N=B*E+wt*k,K=I*E+Mt*k,gt=Qt*E+Zt*k,wt=B*-k+wt*E,Mt=I*-k+Mt*E,Zt=Qt*-k+Zt*E,At=Sn*-k+At*E,B=N,I=K,Qt=gt),T=ue(-O,Zt),g=T*te,T&&(E=Math.cos(-T),k=Math.sin(-T),N=z*E-wt*k,K=P*E-Mt*k,gt=O*E-Zt*k,At=R*k+At*E,z=N,P=K,O=gt),T=ue(P,z),_=T*te,T&&(E=Math.cos(T),k=Math.sin(T),N=z*E+P*k,K=B*E+I*k,P=P*E-z*k,I=I*E-B*k,z=N,B=K),m&&Math.abs(m)+Math.abs(_)>359.9&&(m=_=0,g=180-g),f=W(Math.sqrt(z*z+P*P+O*O)),p=W(Math.sqrt(I*I+Qt*Qt)),T=ue(B,I),w=Math.abs(T)>2e-4?T*te:0,M=At?1/(At<0?-At:At):0),i.svg&&(N=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!ps(Tt(t,U)),N&&t.setAttribute("transform",N))),Math.abs(w)>90&&Math.abs(w)<270&&(r?(f*=-1,w+=_<=0?180:-180,_+=_<=0?180:-180):(p*=-1,w+=w<=0?180:-180)),e=e||i.uncache,i.x=u-((i.xPercent=u&&(!e&&i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+s,i.y=c-((i.yPercent=c&&(!e&&i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-c)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+s,i.z=d+s,i.scaleX=W(f),i.scaleY=W(p),i.rotation=W(_)+a,i.rotationX=W(m)+a,i.rotationY=W(g)+a,i.skewX=w+a,i.skewY=b+a,i.transformPerspective=M+s,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(n[Et]=yi(l)),i.xOffset=i.yOffset=0,i.force3D=ot.force3D,i.renderTransform=i.svg?po:cs?ms:_o,i.uncache=0,i},yi=function(t){return(t=t.split(" "))[0]+" "+t[1]},Li=function(t,e,i){var n=Q(e);return W(parseFloat(e)+parseFloat(Xt(t,"x",i+"px",n)))+n},_o=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ms(t,e)},Jt="0deg",ze="0px",Kt=") ",ms=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,s=i.x,a=i.y,h=i.z,l=i.rotation,u=i.rotationY,c=i.rotationX,d=i.skewX,f=i.skewY,p=i.scaleX,_=i.scaleY,m=i.transformPerspective,g=i.force3D,w=i.target,b=i.zOrigin,M="",x=g==="auto"&&t&&t!==1||g===!0;if(b&&(c!==Jt||u!==Jt)){var S=parseFloat(u)*ye,C=Math.sin(S),T=Math.cos(S),E;S=parseFloat(c)*ye,E=Math.cos(S),s=Li(w,s,C*E*-b),a=Li(w,a,-Math.sin(S)*-b),h=Li(w,h,T*E*-b+b)}m!==ze&&(M+="perspective("+m+Kt),(n||r)&&(M+="translate("+n+"%, "+r+"%) "),(x||s!==ze||a!==ze||h!==ze)&&(M+=h!==ze||x?"translate3d("+s+", "+a+", "+h+") ":"translate("+s+", "+a+Kt),l!==Jt&&(M+="rotate("+l+Kt),u!==Jt&&(M+="rotateY("+u+Kt),c!==Jt&&(M+="rotateX("+c+Kt),(d!==Jt||f!==Jt)&&(M+="skew("+d+", "+f+Kt),(p!==1||_!==1)&&(M+="scale("+p+", "+_+Kt),w.style[U]=M||"translate(0, 0)"},po=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,s=i.x,a=i.y,h=i.rotation,l=i.skewX,u=i.skewY,c=i.scaleX,d=i.scaleY,f=i.target,p=i.xOrigin,_=i.yOrigin,m=i.xOffset,g=i.yOffset,w=i.forceCSS,b=parseFloat(s),M=parseFloat(a),x,S,C,T,E;h=parseFloat(h),l=parseFloat(l),u=parseFloat(u),u&&(u=parseFloat(u),l+=u,h+=u),h||l?(h*=ye,l*=ye,x=Math.cos(h)*c,S=Math.sin(h)*c,C=Math.sin(h-l)*-d,T=Math.cos(h-l)*d,l&&(u*=ye,E=Math.tan(l-u),E=Math.sqrt(1+E*E),C*=E,T*=E,u&&(E=Math.tan(u),E=Math.sqrt(1+E*E),x*=E,S*=E)),x=W(x),S=W(S),C=W(C),T=W(T)):(x=c,T=d,S=C=0),(b&&!~(s+"").indexOf("px")||M&&!~(a+"").indexOf("px"))&&(b=Xt(f,"x",s,"px"),M=Xt(f,"y",a,"px")),(p||_||m||g)&&(b=W(b+p-(p*x+_*C)+m),M=W(M+_-(p*S+_*T)+g)),(n||r)&&(E=f.getBBox(),b=W(b+n/100*E.width),M=W(M+r/100*E.height)),E="matrix("+x+","+S+","+C+","+T+","+b+","+M+")",f.setAttribute("transform",E),w&&(f.style[U]=E)},mo=function(t,e,i,n,r){var s=360,a=j(r),h=parseFloat(r)*(a&&~r.indexOf("rad")?te:1),l=h-n,u=n+l+"deg",c,d;return a&&(c=r.split("_")[1],c==="short"&&(l%=s,l!==l%(s/2)&&(l+=l<0?s:-s)),c==="cw"&&l<0?l=(l+s*rr)%s-~~(l/s)*s:c==="ccw"&&l>0&&(l=(l-s*rr)%s-~~(l/s)*s)),t._pt=d=new nt(t._pt,e,i,n,l,Ja),d.e=u,d.u="deg",t._props.push(i),d},ur=function(t,e){for(var i in e)t[i]=e[i];return t},go=function(t,e,i){var n=ur({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",s=i.style,a,h,l,u,c,d,f,p;n.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),s[U]=e,a=Ze(i,1),je(i,U),i.setAttribute("transform",l)):(l=getComputedStyle(i)[U],s[U]=e,a=Ze(i,1),s[U]=l);for(h in Lt)l=n[h],u=a[h],l!==u&&r.indexOf(h)<0&&(f=Q(l),p=Q(u),c=f!==p?Xt(i,h,l,p):parseFloat(l),d=parseFloat(u),t._pt=new nt(t._pt,a,h,c,d-c,Qi),t._pt.u=p||0,t._props.push(h));ur(a,n)};it("padding,margin,Width,Radius",function(o,t){var e="Top",i="Right",n="Bottom",r="Left",s=(t<3?[e,i,n,r]:[e+r,e+i,n+i,n+r]).map(function(a){return t<2?o+a:"border"+a+o});gi[t>1?"border"+o:o]=function(a,h,l,u,c){var d,f;if(arguments.length<4)return d=s.map(function(p){return Pt(a,p,l)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(u+"").split(" "),f={},s.forEach(function(p,_){return f[p]=d[_]=d[_]||d[(_-1)/2|0]}),a.init(h,f,c)}});var gs={name:"css",register:Ki,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,r){var s=this._props,a=t.style,h=i.vars.startAt,l,u,c,d,f,p,_,m,g,w,b,M,x,S,C,T;vn||Ki(),this.styles=this.styles||us(t),T=this.styles.props,this.tween=i;for(_ in e)if(_!=="autoRound"&&(u=e[_],!(st[_]&&Kr(_,e,i,n,t,r)))){if(f=typeof u,p=gi[_],f==="function"&&(u=u.call(i,n,t,r),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=Ge(u)),p)p(this,t,_,u,i)&&(C=1);else if(_.substr(0,2)==="--")l=(getComputedStyle(t).getPropertyValue(_)+"").trim(),u+="",Wt.lastIndex=0,Wt.test(l)||(m=Q(l),g=Q(u)),g?m!==g&&(l=Xt(t,_,l,g)+g):m&&(u+=m),this.add(a,"setProperty",l,u,n,r,0,0,_),s.push(_),T.push(_,a[_]);else if(f!=="undefined"){if(h&&_ in h?(l=typeof h[_]=="function"?h[_].call(i,n,t,r):h[_],j(l)&&~l.indexOf("random(")&&(l=Ge(l)),Q(l+"")||(l+=ot.units[_]||Q(Pt(t,_))||""),(l+"").charAt(1)==="="&&(l=Pt(t,_))):l=Pt(t,_),d=parseFloat(l),w=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),w&&(u=u.substr(2)),c=parseFloat(u),_ in Rt&&(_==="autoAlpha"&&(d===1&&Pt(t,"visibility")==="hidden"&&c&&(d=0),T.push("visibility",a.visibility),Ut(this,a,"visibility",d?"inherit":"hidden",c?"inherit":"hidden",!c)),_!=="scale"&&_!=="transform"&&(_=Rt[_],~_.indexOf(",")&&(_=_.split(",")[0]))),b=_ in Lt,b){if(this.styles.save(_),M||(x=t._gsap,x.renderTransform&&!e.parseTransform||Ze(t,e.parseTransform),S=e.smoothOrigin!==!1&&x.smooth,M=this._pt=new nt(this._pt,a,U,0,1,x.renderTransform,x,0,-1),M.dep=1),_==="scale")this._pt=new nt(this._pt,x,"scaleY",x.scaleY,(w?me(x.scaleY,w+c):c)-x.scaleY||0,Qi),this._pt.u=0,s.push("scaleY",_),_+="X";else if(_==="transformOrigin"){T.push(Et,a[Et]),u=co(u),x.svg?tn(t,u,0,S,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==x.zOrigin&&Ut(this,x,"zOrigin",x.zOrigin,g),Ut(this,a,_,yi(l),yi(u)));continue}else if(_==="svgOrigin"){tn(t,u,1,S,0,this);continue}else if(_ in _s){mo(this,x,_,d,w?me(d,w+u):u);continue}else if(_==="smoothOrigin"){Ut(this,x,"smooth",x.smooth,u);continue}else if(_==="force3D"){x[_]=u;continue}else if(_==="transform"){go(this,u,t);continue}}else _ in a||(_=Ee(_)||_);if(b||(c||c===0)&&(d||d===0)&&!Qa.test(u)&&_ in a)m=(l+"").substr((d+"").length),c||(c=0),g=Q(u)||(_ in ot.units?ot.units[_]:m),m!==g&&(d=Xt(t,_,l,g)),this._pt=new nt(this._pt,b?x:a,_,d,(w?me(d,w+c):c)-d,!b&&(g==="px"||_==="zIndex")&&e.autoRound!==!1?to:Qi),this._pt.u=g||0,m!==g&&g!=="%"&&(this._pt.b=l,this._pt.r=Ka);else if(_ in a)uo.call(this,t,_,l,w?w+u:u);else if(_ in t)this.add(t,_,l||t[_],w?w+u:u,n,r);else{dn(_,u);continue}b||T.push(_,a[_]),s.push(_)}}C&&ss(this)},render:function(t,e){if(e.tween._time||!wn())for(var i=e._pt;i;)i.r(t,i.d),i=i._next;else e.styles.revert()},get:Pt,aliases:Rt,getSetter:function(t,e,i){var n=Rt[e];return n&&n.indexOf(",")<0&&(e=n),e in Lt&&e!==Et&&(t._gsap.x||Pt(t,"x"))?i&&nr===i?e==="scale"?ro:no:(nr=i||{})&&(e==="scale"?so:ao):t.style&&!un(t.style[e])?eo:~e.indexOf("-")?io:xn(t,e)},core:{_removeProperty:je,_getMatrix:Cn}};lt.utils.checkPrefix=Ee;lt.core.getStyleSaver=us;(function(o,t,e,i){var n=it(o+","+t+","+e,function(r){Lt[r]=1});it(t,function(r){ot.units[r]="deg",_s[r]=1}),Rt[n[13]]=o+","+t,it(i,function(r){var s=r.split(":");Rt[s[1]]=n[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");it("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(o){ot.units[o]="px"});lt.registerPlugin(gs);var yo=lt.registerPlugin(gs)||lt;yo.core.Tween;export{Us as G,pt as M,bo as P,q as V,yo as g,xo as i};
